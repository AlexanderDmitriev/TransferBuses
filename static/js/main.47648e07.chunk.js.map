{"version":3,"sources":["components/future/Filters/Filters.module.css","components/future/Contact/Contacts.module.css","components/Navbar/Navbar.module.css","components/CarrierPage/CarrierPage.module.css","components/PassengerPage/PassengerPage.module.css","components/future/Filters/Filter/Filter.module.css","components/future/Icon/Icon.module.css","components/future/Text/Text.module.css","components/future/IconText/IconText.module.css","redux/reducers/app-reducer.js","config/firebase-config.js","config/build-config.ts","utils/constants.js","services/data-service.js","utils/cities-util.ts","utils/filters-util.ts","redux/actions/loading-actions.js","redux/actions/transfers-actions.js","redux/actions/filters-actions.js","redux/reducers/filters-reducer.js","redux/reducers/loading-reducer.js","redux/actions/transfer-actions.js","redux/reducers/transfer-reducer.js","redux/reducers/transfers-reducer.js","redux/redusers-combiner.js","redux/store.js","utils/useStyles.js","utils/currencies.js","redux/selectors.js","redux/actions/app-actions.js","components/CurrenciesSelector/CurrenciesSelector.js","components/Navbar/Navbar.js","utils/menuData.js","i18n.js","components/Navbar/Sidebar/Sidebar.js","utils/timezones.js","components/CarrierPage/CarrierPage.jsx","components/CheaptripCommercial/Logo_ChT_2.png","components/future/Filters/Filter/FilterComponent.jsx","components/future/Filters/FiltersComponent.jsx","assets/upward-arrow.png","assets/schedule.png","assets/pets-allowed.png","assets/parcel.png","assets/pets-allowed-bw.png","assets/parcel-bw.png","assets/wallet.png","assets/duration.png","utils/months-util.ts","utils/currency-util.ts","components/future/Icon/IconComponent.jsx","components/future/Text/TextComponent.jsx","components/future/IconText/IconTextComponent.jsx","components/future/TripCard/TripCardComponent.jsx","components/Transfer/Transfer.jsx","components/TransferPage/TransferPage.jsx","components/SocialButtons/SocialButtons.jsx","components/future/Contact/ContactsComponent.jsx","pages/Contacts.js","routes/publicRoutes.js","components/MainPage/MainPage.jsx","components/PassengerPage/PassengerPage.jsx","components/future/TripView/TripViewComponent.jsx","components/BusPage/BusPage.jsx","components/AppRouter/AppRouter.js","assets/ru.svg","utils/languages.js","assets/en.svg","assets/ua.svg","components/LanguageSelector/LanguageSelector.js","App.js","index.js","components/future/TripCard/TripCard.module.css"],"names":["module","exports","SET_SIDEBAR","SET_LANGUAGE","SET_CURRENCY","defaultState","sidebar","lang","localStorage","getItem","currency","firebaseConfig","getBuildMode","mode","process","developer","REACT_APP_DEVELOPER","version","REACT_APP_VERSION","collection","filterFromCityCollection","filterToCityCollection","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","fb","firebase","initializeApp","MAIN_PATH","TRANSFER_PATH","TRANSFERS_PATH","CONTACTS_PATH","TRANSFERS_SEARCH_PATH","TRANSFERS_ADD_TRANSFER_PATH","generateId","juid","getFBCollection","name","firestore","getFBTransfersCollection","getSortedTransfersQuery","limit","orderBy","getNextTransfersFromLastQuery","last","startAt","_timestamp","getTransfersBy","filters","a","queries","forEach","f","where","key","operator","value","get","data","docs","map","doc","console","error","Promise","reject","uploadNewTransfer","transfer","res","_id","Date","toJSON","set","response","uploadFilterFromCity","from","uploadFilterToCity","to","log","cityId","getFilterToCity","toCity","count","update","then","getFilterFromCity","fromCity","v","getAllFiltersToCity","getAllFiltersFromCity","getTransfers","transfers","getTransfer","id","getNextTransfers","getCityById","cities","find","city","ID","getCityByName","name_ru","defaultFilter","isValue","undefined","SET_LOADING","SET_LOADING_TRANSFERS","SET_LOADING_TRANSFER","SET_LOADING_NEXT_TRANSFERS","SET_LOADING_UPLOAD_TRANSFER","loadingTransfersAction","isLoading","dispatch","type","payload","loadingTransferAction","loadingNextTransfersAction","loadingUploadTransferAction","SET_TRANSFERS_DATA","SET_TRANSFERS_IS_RECEIVED","SET_TRANSFERS_MESSAGE","SET_TRANSFERS_IS_NEXT","setTransfersAction","isNext","setTransfersDataAction","setTransfersReceivedAction","length","isReceived","setTransfersMessageAction","msg","SET_FILTER_FROM_CITIES","SET_FILTER_TO_CITIES","SET_IS_FILTER_APPLY","SET_FILTERS_FOR_APPLY","setFilterApplyAction","isApply","applyFiltersAction","obj","byValues","Object","entries","Array","push","convertToFilterFromObject","setFiltersForApplyAction","slice","filtersState","isFilterApply","filtersForApply","fromCities","toCities","defaultLoadingState","isLoadingTransfers","isLoadingTransfer","isLoadingNextTransfers","isLoadingNewTransfer","SET_TRANSFER_IS_RECEIVED","SET_TRANSFER_IS_SAVED","SET_TRANSFER_DATA","SET_TRANSFER_MESSAGE","setSavedNewTransferAction","isSaved","setTransferReceivedAction","setTransferDataAction","setTransferMessageAction","initialTransferState","newTransferState","receiveTransfersState","rootReducer","combineReducers","app","state","action","saveNewTransfer","loading","store","createStore","composeWithDevTools","applyMiddleware","thunk","mainColor","useStyles","makeStyles","theme","root","breakpoints","up","maxWidth","topPadding","paddingTop","list","width","fullList","paper","background","icon","fill","drivePage","paddingBottom","mainPage","minHeight","mainPage__btn","minWidth","nav","display","alignItems","menuButton","marginLeft","spacing","toolbarContainer","toolbar","title","flexGrow","cursor","textAlign","link","margin","border","padding","borderRadius","position","boxSizing","transition","boxShadow","textDecoration","down","flag","height","marginRight","whiteSelect","color","ctDescription","fontSize","backgroundColor","sidebarHeader","flexDirection","sidebarHeaderInfo","justifyContent","sidebarCloseButton","sidebarList","contacts","createTheme","overrides","MuiInputBase","fontFamily","fontWeight","lineHeight","letterSpacing","textTransform","palette","primary","main","secondary","currencies","getCurrency","getLanguage","getSaveNewTransfer","getSidebar","getFilters","getLoading","setSidebarAction","isSidebar","CurrenciesSelector","classes","useDispatch","cur","useSelector","FormControl","Select","className","inputProps","renderValue","toUpperCase","disableUnderline","item","MenuItem","onClick","setItem","code","Navbar","AppBar","Toolbar","css","navbar","logo","style","option_block","IconButton","edge","menuData","path","i18n","use","Backend","LanguageDetector","initReactI18next","init","debug","fallbackLng","detection","order","cache","interpolation","escapeValue","err","t","Sidebar","history","useHistory","Drawer","anchor","open","onClose","Container","fluid","List","ListItem","button","ListItemText","timeZones","schema","yup","shape","required","date","departureTime","places","min","max","phoneNumber","phone","price","positive","FilterComponent","label","getOptionLabel","options","handler","inputValue","filter","Autocomplete","freeSolo","variant","sx","onInputChange","renderInput","params","TextField","FiltersComponent","query","URLSearchParams","useLocation","search","useState","regular_trips","Boolean","pass_parcel","pets_allowed","uriData","setUriData","useEffect","fromCitiesRu","c","sort","toCitiesRu","url","getFilterUri","cityTo","cityFrom","objForFB","regularTrips","passAParcel","isPetsAllowed","filters_sector","block","e","disabled","onChange","target","InputLabelProps","shrink","Button","marginBottom","control","checked","buttons_block","regular","pass","pets","monthsEng","number","short","getByCode","getSymbolByCode","r2rSymbol","convert","fromCurrency","toCurrency","oneEuroRate","convertToGlobal","toFixed","Math","round","IconComponent","someClass","src","alt","TextComponent","text","IconTextComponent","icon_text","TripCardComponent","priceToDisplay","review","trip_card","trip_card_header","way","ArrowIcon","arrow_icon","content","ScheduleIcon","getMonth","getDate","getFullYear","dateView","DurationIcon","duration","WalletIcon","icons_block","ParcelIcon","ParcelBWIcon","PetsAllowedIcon","PetsAllowedBWIcon","Divider","trip_card_footer","size","Transfer","priceNum","globalCurrencyCode","globalCurrency","transferCurrency","departureTimeSplit","timeZone","split","includes","Number","EPSILON","Accordion","AccordionSummary","expandIcon","Grid","container","xs","Paper","Tooltip","placement","arrow","direction","AccordionDetails","keys","regularTripsDays","weekDay","departTime","selected","driversComment","textOverflow","wordBreak","additionalInfo","paddingRight","TransferPage","SocialButtons","href","class","rel","ContactsComponent","contacts_text","Contacts","Typography","gutterBottom","publicRoutes","Component","justify","lg","md","fullWidth","align","component","setOpen","rideCurrency","setRideCurrency","latitude","longitude","tz","shift","getTimezoneOffset","userTimeZone","cities_json","reduce","acc","val","b","durations","i","maxDurationHour","handleClose","defaultProps","option","element","absLat","elementAbsLat","absLng","elementAbsLng","getDistance","cityLat","cityLng","φ1","PI","φ2","Δφ","Δλ","sin","cos","atan2","sqrt","Name","distanceBetween","marginTop","initialValues","_0monday","_1tuesday","_2wednesday","_3thursday","_4friday","_5saturday","_6sunday","onSubmit","values","departureTimeGMT","join","saveNewTransferAction","validationSchema","props","fields","handleSubmit","styles","form_style","height95px","setFieldValue","onBlur","handleBlur","errors","touched","helperText","ListboxProps","maxHeight","FormControlLabel","Checkbox","handleChange","event","weekDays","toISOString","InputLabel","labelId","placeholder","parcel","multiline","rows","LoadingButton","Dialog","DialogTitle","DialogContent","DialogActions","autoFocus","tb_padding","Box","LinearProgress","REACT_APP_NEW_DESIGN","Alert","severity","lastTransfers","nextTransfers","_","concat","useParams","getTransferAction","AppRouter","exact","languages","locale","ru","LanguageSelector","useTranslation","lng","language","changeLanguage","catch","setLanguageAction","App","reloadResources","ThemeProvider","StylesProvider","ReactDOM","render","StrictMode","fallback","document","getElementById"],"mappings":"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","file":"static/js/main.47648e07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters_sector\":\"Filters_filters_sector__nR1Rs\",\"buttons_block\":\"Filters_buttons_block__2A5rw\",\"block\":\"Filters_block__1xHMw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"Contacts_contacts__3FLKf\",\"contacts_text\":\"Contacts_contacts_text__2NjLP\",\"link\":\"Contacts_link__q4dUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"option_block\":\"Navbar_option_block__35GOK\",\"navbar\":\"Navbar_navbar__3iBNI\",\"logo\":\"Navbar_logo__2EvPt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CarrierPage_container__kota4\",\"submitBtn\":\"CarrierPage_submitBtn__W1hFZ\",\"hidden\":\"CarrierPage_hidden__2EVYy\",\"height95px\":\"CarrierPage_height95px__Npv6A\",\"form_style\":\"CarrierPage_form_style__LjzXU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transfers\":\"PassengerPage_transfers__1D5S4\",\"tb_padding\":\"PassengerPage_tb_padding__3JC29\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__9oDWQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__iDra3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Text_text__2az20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon_text\":\"IconText_icon_text__3jKOD\"};","export const SET_SIDEBAR = 'SHOW_SIDEBAR';\r\nexport const SET_LANGUAGE = 'SET_LANGUAGE';\r\nexport const SET_CURRENCY = 'SET_CURRENCY';\r\n\r\nconst defaultState = {\r\n  sidebar: false,\r\n  lang: localStorage.getItem(\"locale\") || \"en\",\r\n  currency: localStorage.getItem(\"currency\") || 'EUR',\r\n};\r\n\r\nexport default function appReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_SIDEBAR:\r\n      return { ...state, sidebar: action.payload };\r\n    case SET_LANGUAGE:\r\n      return { ...state, lang: action.payload };\r\n    case SET_CURRENCY:\r\n      return { ...state, currency: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import firebase from 'firebase';\r\n\r\n// var firebaseConfig = {\r\n//     apiKey: `${process.env.REACT_APP_FIREBASE_APIKEY}`,\r\n//     authDomain: `${process.env.REACT_APP_FIREBASE_AUTH_DOMAIN}`,\r\n//     projectId: `${process.env.REACT_APP_FIREBASE_PROJECT_ID}`,\r\n//     storageBucket: `${process.env.REACT_APP_FIREBASE_STORAGE_BUCKET}`,\r\n//     messagingSenderId: `${process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID}`,\r\n//     appId: `${process.env.REACT_APP_FIREBASE_ID}`\r\n//   };\r\n\r\nlet firebaseConfig = {}\r\n\r\nfirebaseConfig = {\r\n  apiKey: `${process.env.REACT_APP_FIREBASE_APIKEY}`,\r\n  authDomain: `${process.env.REACT_APP_FIREBASE_AUTH_DOMAIN}`,\r\n  projectId: `${process.env.REACT_APP_FIREBASE_PROJECT_ID}`,\r\n  storageBucket: `${process.env.REACT_APP_FIREBASE_STORAGE_BUCKET}`,\r\n  messagingSenderId: `${process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID}`,\r\n  appId: `${process.env.REACT_APP_FIREBASE_ID}`\r\n};\r\n// if(process.env.REACT_APP_BUILD_MODE === 'prod'){\r\n//   firebaseConfig = {\r\n//     apiKey: `${process.env.REACT_APP_FIREBASE_APIKEY}`,\r\n//     authDomain: `${process.env.REACT_APP_FIREBASE_AUTH_DOMAIN}`,\r\n//     projectId: `${process.env.REACT_APP_FIREBASE_PROJECT_ID}`,\r\n//     storageBucket: `${process.env.REACT_APP_FIREBASE_STORAGE_BUCKET}`,\r\n//     messagingSenderId: `${process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID}`,\r\n//     appId: `${process.env.REACT_APP_FIREBASE_ID}`\r\n//   };\r\n// } else {\r\n//   firebaseConfig = {\r\n//     apiKey: 'AIzaSyAIUNvdpgFHgU0eVhMoEtDLCBpAfSUuEiA',\r\n//     authDomain: \"transfer-buses.firebaseapp.com\",\r\n//     projectId: \"transfer-buses\",\r\n//     storageBucket: \"transfer-buses.appspot.com\",\r\n//     messagingSenderId: \"931946718227\",\r\n//     appId: \"1:931946718227:web:4873f29ebbdd23ba484be6\"\r\n//   };\r\n// }\r\n\r\n// DEV\r\n// var firebaseConfig = {\r\n//     apiKey: 'AIzaSyAIUNvdpgFHgU0eVhMoEtDLCBpAfSUuEiA',\r\n//     authDomain: \"transfer-buses.firebaseapp.com\",\r\n//     projectId: \"transfer-buses\",\r\n//     storageBucket: \"transfer-buses.appspot.com\",\r\n//     messagingSenderId: \"931946718227\",\r\n//     appId: \"1:931946718227:web:4873f29ebbdd23ba484be6\"\r\n//   };\r\n\r\n\r\n// PROD\r\n// const firebaseConfig = {\r\n//   apiKey: \"AIzaSyCgKLUOLllUaX4lXWam1uDKKbNGF4WcUZY\",\r\n//   authDomain: \"transferbuses.firebaseapp.com\",\r\n//   projectId: \"transferbuses\",\r\n//   storageBucket: \"transferbuses.appspot.com\",\r\n//   messagingSenderId: \"766106301817\",\r\n//   appId: \"1:766106301817:web:f4eb8e224bbdcb7f17aba8\",\r\n//   // measurementId: \"G-FS6TM7FPZS\"\r\n// };\r\n\r\n\r\nexport const fb = firebase.initializeApp(firebaseConfig);","type BuildModeData = {\r\n  mode: string;\r\n  developer: string;\r\n  version: string;\r\n  collection: string;\r\n  filterFromCityCollection: string;\r\n  filterToCityCollection: string;\r\n};\r\n\r\nexport const getMode = (): string => {\r\n  return process.env.REACT_APP_BUILD_MODE as string;\r\n};\r\n\r\nexport const getCollection = (): string => {\r\n  return process.env.REACT_APP_FIREBASE_COLLECTION as string;\r\n};\r\n\r\nexport const getFromCityCollection = (): string => {\r\n  return process.env.REACT_APP_FIREBASE_COLLECTION_FILTER_FROM_CITY as string;\r\n};\r\n\r\nexport const getToCityCollection = (): string => {\r\n  return process.env.REACT_APP_FIREBASE_COLLECTION_FILTER_TO_CITY as string;\r\n};\r\n\r\nexport const getDeveloper = (): string => {\r\n  return process.env.REACT_APP_DEVELOPER as string;\r\n};\r\n\r\nexport const getVersion = (): string => {\r\n  return process.env.REACT_APP_VERSION as string;\r\n};\r\n\r\nexport const getBuildMode = (): BuildModeData => {\r\n  return {\r\n    mode: getMode(),\r\n    developer: getDeveloper(),\r\n    version: `v.${getVersion()}`,\r\n    collection: getCollection(),\r\n    filterFromCityCollection: `${getCollection()}-${getFromCityCollection()}`,\r\n    filterToCityCollection: `${getCollection()}-${getToCityCollection()}`,\r\n  };\r\n};\r\n","export const MAIN_PATH = \"/\";\r\nexport const TRANSFER_PATH = \"/transfer\";\r\nexport const TRANSFERS_PATH = \"/transfers\";\r\nexport const ADD_PATH = \"/add\";\r\nexport const SEARCH_PATH = \"/q\";\r\nexport const EDIT_PATH = \"/edit\";\r\nexport const DELETE_PATH = \"/delete\";\r\nexport const ADD_TRANSFER_PATH = \"/add-transfer\";\r\nexport const BUS_PATH = \"/bus\";\r\nexport const CONTACTS_PATH = \"/contacts\";\r\nexport const TRANSFERS_SEARCH_PATH = `${TRANSFERS_PATH}${SEARCH_PATH}`;\r\nexport const TRANSFERS_ADD_TRANSFER_PATH = `${TRANSFERS_PATH}${ADD_TRANSFER_PATH}`;\r\nexport const TRIP_EDIT_PATH = `${TRANSFER_PATH}${EDIT_PATH}`;\r\nexport const TRIP_DELETE_PATH = `${TRANSFER_PATH}${DELETE_PATH}`;\r\n\r\nexport const ROMAN_PHONE_NUMBER = \"+972 54-577-9239\";\r\nexport const ROMAN_EMAIL = \"roman.mantelmakher@gmail.com\";\r\nexport const MAX_PAGE_SIZE = 12;\r\nexport const TIMESTAMP_FIELD = \"_timestamp\";\r\n","import { getBuildMode } from \"../config/build-config\";\r\nimport { fb } from \"../config/firebase-config\";\r\nimport { MAX_PAGE_SIZE, TIMESTAMP_FIELD } from \"../utils/constants\";\r\nimport { juid } from \"just-unique-id\";\r\n\r\nconst mode = getBuildMode();\r\n\r\nfunction generateId() {\r\n  return juid(16, 24);\r\n}\r\n\r\nfunction getFBCollection(name) {\r\n  return fb.firestore().collection(name);\r\n}\r\n\r\nfunction getFBTransfersCollection() {\r\n  return fb.firestore().collection(mode.collection);\r\n}\r\n\r\nfunction getFBTransfersLimitedCollection() {\r\n  return fb.firestore().collection(mode.collection).limit(MAX_PAGE_SIZE);\r\n}\r\n\r\nfunction getSortedTransfersQuery() {\r\n  return getFBTransfersLimitedCollection().orderBy(TIMESTAMP_FIELD, \"desc\");\r\n}\r\n\r\nfunction getNextTransfersFromLastQuery(last) {\r\n  return getSortedTransfersQuery().startAt(last._timestamp);\r\n}\r\n\r\nexport async function getTransfersBy(filters) {\r\n  let queries = getFBTransfersCollection();\r\n  filters.forEach((f) => (queries = queries.where(f.key, f.operator, f.value)));\r\n  try {\r\n    const collection = await queries.get();\r\n    const data = collection.docs.map((doc) => {\r\n      return doc.data();\r\n    });\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n\r\nexport async function uploadTransfer(transfer) {\r\n  try {\r\n    const _id = generateId();\r\n    const response = await getFBTransfersCollection()\r\n      .doc(_id)\r\n      .set({\r\n        ...transfer,\r\n        _id,\r\n        _timestamp: new Date().toJSON(),\r\n      });\r\n    await uploadFilterFromCity(transfer.from);\r\n    await uploadFilterToCity(transfer.to);\r\n    console.log(\"response\", response);\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n\r\nexport async function uploadNewTransfer(transfer) {\r\n  try {\r\n    const res = {\r\n      ...transfer,\r\n      _id: generateId(),\r\n      _timestamp: new Date().toJSON(),\r\n    };\r\n    const response = await getFBTransfersCollection().doc(res._id).set(res);\r\n    await uploadFilterFromCity(transfer.from);\r\n    await uploadFilterToCity(transfer.to);\r\n    console.log(\"response\", response);\r\n    return res;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n\r\nexport async function uploadFilterToCity(cityId) {\r\n  const toCity = await getFilterToCity(cityId);\r\n  console.log(toCity);\r\n  if (!toCity) {\r\n    const response = await getFBCollection(mode.filterToCityCollection)\r\n      .doc(cityId)\r\n      .set({ _id: cityId, count: 1 });\r\n    console.log(response);\r\n  } else {\r\n    const response = await getFBCollection(mode.filterToCityCollection)\r\n      .doc(toCity._id)\r\n      .update({ count: toCity.count + 1 })\r\n      .then(() => console.log(\"Document successfully updated!\"));\r\n    console.log(response);\r\n  }\r\n}\r\n\r\nexport async function uploadFilterFromCity(cityId) {\r\n  const fromCity = await getFilterFromCity(cityId);\r\n  if (!fromCity) {\r\n    const response = await getFBCollection(mode.filterFromCityCollection)\r\n      .doc(cityId)\r\n      .set({ _id: cityId, count: 1 });\r\n    console.log(response);\r\n  } else {\r\n    await getFBCollection(mode.filterFromCityCollection)\r\n      .doc(fromCity._id)\r\n      .update({ count: fromCity.count + 1 })\r\n      .then(() => console.log(\"Document successfully updated!\"));\r\n  }\r\n}\r\n\r\nexport async function getFilterToCity(cityId) {\r\n  const response = await getFBCollection(mode.filterToCityCollection)\r\n    .doc(cityId)\r\n    .get()\r\n    .then((v) => v.data());\r\n  return response;\r\n}\r\n\r\nexport async function getAllFiltersToCity() {\r\n  const collection = await getFBCollection(mode.filterToCityCollection).get();\r\n  const filters = collection.docs.map((doc) => doc.data());\r\n  return filters;\r\n}\r\n\r\nexport async function getFilterFromCity(cityId) {\r\n  const response = await getFBCollection(mode.filterFromCityCollection)\r\n    .doc(cityId)\r\n    .get()\r\n    .then((v) => v.data());\r\n  return response;\r\n}\r\n\r\nexport async function getAllFiltersFromCity() {\r\n  const collection = await getFBCollection(mode.filterFromCityCollection).get();\r\n  const filters = collection.docs.map((doc) => doc.data());\r\n  return filters;\r\n}\r\n\r\nexport async function getTransfers() {\r\n  try {\r\n    const collection = await getSortedTransfersQuery().get();\r\n    const transfers = collection.docs.map((doc) => doc.data());\r\n    console.log(\"received transfers: \", transfers);\r\n    return transfers;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n\r\nexport async function getTransfer(id) {\r\n  try {\r\n    const doc = await getFBTransfersCollection().doc(id).get();\r\n    // const transfer = collection.docs.map((doc) => {\r\n    //   return { ...doc.data(), _documentId: doc.id };\r\n    // });\r\n    const transfer = doc.data();\r\n    console.log(\"received transfer doc: \", doc);\r\n    return transfer;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n\r\nexport async function getAllTransfers() {\r\n  try {\r\n    const collection = await getFBTransfersCollection().get();\r\n    const transfers = collection.docs.map((doc) => doc.data());\r\n    console.log(\"received all transfers: \", transfers);\r\n    return transfers;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n\r\nexport async function getNextTransfers(last) {\r\n  try {\r\n    const collection = await getNextTransfersFromLastQuery(last).get();\r\n    const transfers = collection.docs.map((doc) => {\r\n      return doc.data();\r\n    });\r\n    console.log(\"next transfers: \", transfers);\r\n    return transfers;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return Promise.reject(error);\r\n  }\r\n}\r\n\r\n// export async function getMyLots(uid){\r\n//     try{\r\n//         const lotsIds = (await fb.firestore().collection(\"users\").doc(uid).get()).data().lotsIds;\r\n//         var lots = [];\r\n//         if(!lotsIds){\r\n//             return lots;\r\n//         }\r\n//         console.log(\"My lots:\",lots);\r\n//         for(let i = 0; i < lotsIds.length; i++){\r\n//             var lot = (await fb.firestore().collection(\"lots\").doc(lotsIds[i]).get()).data();\r\n//             lots.push({...lot,id:lotsIds[i]});\r\n//         }\r\n//         console.log(lotsIds);\r\n//         return lots;\r\n//     }catch(error){\r\n//         return Promise.reject(error);\r\n//     }\r\n// }\r\n//\r\n//\r\n// export async function getLotById(id){\r\n//     try{\r\n//         const lot = await fb.firestore().collection(\"lots\").doc(id).get();\r\n//         console.log({...lot.data(),id:id});\r\n//         return {...lot.data(),id:id};\r\n//     }catch(error){\r\n//         return Promise.reject(error);\r\n//     }\r\n// }\r\n// export async function deleteLotByid(uid,id){\r\n//     try{\r\n//         const snap = await fb.firestore().collection(\"lots\").doc(id).collection(\"buyers\").get();\r\n//         const users = snap.docs.map(doc => doc.id);\r\n//         console.log(\"deletedeeeeeee\",users)\r\n//         for(var i = 0; i < users.length;i++){\r\n//             await unsubscribeFromLot(users[i],id);\r\n//         }\r\n//\r\n//\r\n//         const deleted = await fb.firestore().collection(\"lots\").doc(id).delete();\r\n//         const ref = fb.firestore().collection(\"users\").doc(uid);\r\n//         await ref.update({\r\n//             lotsIds:firebase.firestore.FieldValue.arrayRemove(id)\r\n//         })\r\n//\r\n//         // return deleted;\r\n//     }catch(error){\r\n//         return Promise.reject(error);\r\n//     }\r\n// }\r\n//\r\n//\r\n// export async function checkBuying(uid,id){\r\n//     if(!uid){\r\n//         return false;\r\n//     }\r\n//     const doc =  await fb.firestore().collection(\"lots\").doc(id).collection(\"buyers\").doc(uid).get();\r\n//     if(doc.exists){\r\n//         console.log(\"купил уже\");\r\n//         return true;\r\n//     }else{\r\n//         console.log(\"еще не купил\");\r\n//         return false;\r\n//     }\r\n// }\r\n//\r\n// export async function subscribeOnLot(uid,id,amount){\r\n//     amount = parseInt(amount);\r\n//     try{\r\n//         const isBought =await checkBuying(uid,id)\r\n//         if(isBought){\r\n//             throw \"already bought\";\r\n//         }\r\n//\r\n//         const lot = await getLotById(id);\r\n//\r\n//         console.log(\"Gotted lot:\",lot,\"id of lot: \",id);\r\n//\r\n//         if(lot.amount + parseInt(amount) > lot.totalAmount){\r\n//             throw \"too big number\";\r\n//         }\r\n//\r\n//\r\n//\r\n//         const collection = fb.firestore().collection(\"lots\").doc(id).collection(\"buyers\");\r\n//         await collection.doc(uid).set({amount});\r\n//         const lotRef = fb.firestore().collection(\"lots\").doc(id);\r\n//         console.log();\r\n//         if(lot.amount + amount === lot.totalAmount){\r\n//             await lotRef.update({\r\n//                 finished:true\r\n//             })\r\n//         }\r\n//\r\n//         await lotRef.update({\r\n//             amount:firebase.firestore.FieldValue.increment(amount)\r\n//         })\r\n//\r\n//\r\n//         const userRef =  fb.firestore().collection(\"users\").doc(uid);\r\n//         await userRef.update({\r\n//             groupIds:firebase.firestore.FieldValue.arrayUnion(id)\r\n//         })\r\n//     }catch(error){\r\n//         return Promise.reject(error);\r\n//     }\r\n// }\r\n//\r\n// export async function unsubscribeFromLot(uid,id){\r\n//     console.log(\"ID\", id);\r\n//     console.log(\"UID\", uid);\r\n//     const ref =  fb.firestore().collection(\"lots\").doc(id).collection(\"buyers\").doc(uid);\r\n//     const amount =  parseInt((await ref.get()).data().amount);\r\n//     console.log(\"AMOUNT\", amount);\r\n//\r\n//     await ref.delete();\r\n//     const lotRef = fb.firestore().collection(\"lots\").doc(id);\r\n//     await lotRef.update({\r\n//         amount:firebase.firestore.FieldValue.increment(-amount),\r\n//         finished:false\r\n//     })\r\n//\r\n//\r\n//     const userRef = fb.firestore().collection(\"users\").doc(uid);\r\n//     await userRef.update({\r\n//         groupIds:firebase.firestore.FieldValue.arrayRemove(id)\r\n//     })\r\n// }\r\n// export async function getMyGroups(uid){\r\n//     try{\r\n//         const lotsIds = (await fb.firestore().collection(\"users\").doc(uid).get()).data().groupIds;\r\n//         if(!lotsIds){\r\n//             return [];\r\n//         }\r\n//         var lots = [];\r\n//         for(let i = 0; i < lotsIds.length; i++){\r\n//            var lot = (await fb.firestore().collection(\"lots\").doc(lotsIds[i]).get()).data();\r\n//            lots.push({...lot,id:lotsIds[i]});\r\n//         }\r\n//         console.log(lots);\r\n//         return lots;\r\n//     }catch(error){\r\n//         return Promise.reject(error);\r\n//     }\r\n// }\r\n","import cities from \"./cities.json\";\r\n\r\ntype City = {\r\n  ID: string;\r\n  name: string;\r\n  country_id: string;\r\n  latitude: string;\r\n  longitude: string;\r\n  name_ru: string;\r\n};\r\n\r\nexport function getCities(): City[] {\r\n  return cities;\r\n}\r\n\r\nexport function getCityById(id: string): City | undefined {\r\n  return cities.find((city) => city.ID === id);\r\n}\r\n\r\nexport function getCityByName(name: string): City | undefined {\r\n  return cities.find((city) => city.name === name || city.name_ru === name);\r\n}\r\n","type Filter = {\r\n  key: string;\r\n  operator: string;\r\n  value: any;\r\n};\r\n\r\nconst EQUALS_OPERATOR = \"==\";\r\nconst IN_OPERATOR = \"in\";\r\nconst FILTER_KEYS = [\"from\", \"to\", \"date\", \"passAParcel\", \"isPetsAllowed\", \"regularTrips\"];\r\n\r\nconst defaultFilter = {\r\n  key: \"\",\r\n  operator: EQUALS_OPERATOR,\r\n  value: \"\",\r\n};\r\n\r\nexport const getFilterUri = (url: string, obj: Object): string => {\r\n  let path = \"\";\r\n  const entries = Object.entries(obj);\r\n  for (let [key, value] of entries) {\r\n    if (value && value !== \"\") {\r\n      path += `${key}=${value}&`;\r\n    }\r\n  }\r\n  return path !== \"\" ? url + \"?\" + path.slice(0, -1) : url;\r\n};\r\n\r\nexport const convertToFilterFromObject = (obj: Object): Filter[] => {\r\n  const res: Filter[] = [];\r\n  const entries = Object.entries(obj);\r\n  for (let [key, value] of entries) {\r\n    if (isValue(value)) {\r\n      if (value instanceof Array) {\r\n        res.push({\r\n          key,\r\n          operator: value.length > 1 ? EQUALS_OPERATOR : IN_OPERATOR,\r\n          value: value.length > 1 ? value[0] : value,\r\n        });\r\n      } else {\r\n        res.push({ ...defaultFilter, key, value });\r\n      }\r\n    }\r\n  }\r\n  return res;\r\n};\r\n\r\nexport const convertToFilter = (values: any[], keys?: string[] | undefined): Filter[] => {\r\n  const res: Filter[] = [];\r\n  if (keys) {\r\n    keys.forEach((k, i) => {\r\n      const key = FILTER_KEYS.find((item) => item === k);\r\n      const value = values[i];\r\n      if (key && isValue(value)) {\r\n        res.push({ ...defaultFilter, key, value });\r\n      }\r\n    });\r\n  } else {\r\n    return toFilters(values);\r\n  }\r\n  return res;\r\n};\r\n\r\nexport const toFilters = (values: any[]): Filter[] => {\r\n  const res: Filter[] = [];\r\n  FILTER_KEYS.forEach((key, i) => {\r\n    const value = values[i];\r\n    if (isValue(value)) {\r\n      res.push({ ...defaultFilter, key, value });\r\n    }\r\n  });\r\n  return res;\r\n};\r\n\r\nfunction isValue(v: any): boolean {\r\n  return v && v !== \"\" && v !== undefined && v !== null;\r\n}\r\n","export const SET_LOADING = \"set-loading\";\r\nexport const SET_LOADING_TRANSFERS = \"set-loading-transfers\";\r\nexport const SET_LOADING_TRANSFER = \"set-loading-transfer\";\r\nexport const SET_LOADING_NEXT_TRANSFERS = \"set-loading-next-transfers\";\r\nexport const SET_LOADING_UPLOAD_TRANSFER = \"set-loading-upload-transfer\";\r\n\r\nexport function loadingAction(isLoading) {\r\n  return (dispatch) => dispatch({ type: SET_LOADING, payload: isLoading });\r\n}\r\n\r\nexport function loadingTransfersAction(isLoading) {\r\n  return (dispatch) => dispatch({ type: SET_LOADING_TRANSFERS, payload: isLoading });\r\n}\r\n\r\nexport function loadingTransferAction(isLoading) {\r\n  return (dispatch) => dispatch({ type: SET_LOADING_TRANSFER, payload: isLoading });\r\n}\r\n\r\nexport function loadingNextTransfersAction(isLoading) {\r\n  return (dispatch) => dispatch({ type: SET_LOADING_NEXT_TRANSFERS, payload: isLoading });\r\n}\r\n\r\nexport function loadingUploadTransferAction(isLoading) {\r\n  return (dispatch) => dispatch({ type: SET_LOADING_UPLOAD_TRANSFER, payload: isLoading });\r\n}\r\n","import { getNextTransfers, getTransfers, getTransfersBy } from \"../../services/data-service\";\r\nimport { loadingNextTransfersAction, loadingTransfersAction } from \"./loading-actions\";\r\nimport _ from \"lodash\";\r\nimport { setFilterApplyAction } from \"./filters-actions\";\r\nimport { MAX_PAGE_SIZE } from \"../../utils/constants\";\r\n\r\nexport const SET_TRANSFERS_DATA = \"set-transfers-data\";\r\nexport const SET_TRANSFERS_IS_RECEIVED = \"set-transfers-is-received\";\r\nexport const SET_TRANSFERS_MESSAGE = \"set-transfers-message\";\r\nexport const SET_TRANSFERS_IS_NEXT = \"set-transfers-is-next\";\r\n\r\nexport function setTransfersAction(transfers) {\r\n  return (dispatch) => {\r\n    dispatch(setTransfersDataAction(transfers));\r\n    dispatch(setTransfersReceivedAction(true));\r\n    dispatch(setTransfersNextAction(transfers.length === MAX_PAGE_SIZE));\r\n  };\r\n}\r\n\r\nexport function setTransfersDataAction(data) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFERS_DATA,\r\n      payload: data,\r\n    });\r\n}\r\n\r\nexport function setTransfersNextAction(isNext) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFERS_IS_NEXT,\r\n      payload: isNext,\r\n    });\r\n}\r\n\r\nexport function setTransfersReceivedAction(isReceived) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFERS_IS_RECEIVED,\r\n      payload: isReceived,\r\n    });\r\n}\r\n\r\nexport function setTransfersMessageAction(msg) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFERS_MESSAGE,\r\n      payload: msg,\r\n    });\r\n}\r\n\r\nexport function getTransfersAction() {\r\n  return async (dispatch) => {\r\n    loadingTransfersAction(true);\r\n    setTransfersReceivedAction(false);\r\n    dispatch(setTransfersDataAction([]));\r\n    dispatch(setFilterApplyAction(false));\r\n    try {\r\n      const transfers = await getTransfers();\r\n      dispatch(setTransfersAction(transfers.slice()));\r\n      dispatch(setFilterApplyAction(false));\r\n    } catch (e) {\r\n      dispatch(setTransfersMessageAction(e));\r\n      dispatch(setTransfersReceivedAction(false));\r\n    } finally {\r\n      dispatch(loadingTransfersAction(false));\r\n    }\r\n  };\r\n}\r\n\r\nexport function getTransfersByAction(byValues) {\r\n  return async (dispatch) => {\r\n    dispatch(loadingTransfersAction(true));\r\n    dispatch(setTransfersReceivedAction(false));\r\n    dispatch(setTransfersDataAction([]));\r\n    dispatch(setFilterApplyAction(false));\r\n    try {\r\n      const transfers = await getTransfersBy(byValues);\r\n      dispatch(setTransfersAction(transfers.slice()));\r\n      dispatch(setFilterApplyAction(true));\r\n    } catch (e) {\r\n      dispatch(setTransfersMessageAction(e));\r\n      dispatch(setTransfersReceivedAction(false));\r\n    } finally {\r\n      dispatch(loadingTransfersAction(false));\r\n    }\r\n  };\r\n}\r\n\r\nexport function getNextTransfersAction(lastTransfers) {\r\n  return async (dispatch) => {\r\n    dispatch(loadingNextTransfersAction(true));\r\n    dispatch(setTransfersReceivedAction(false));\r\n    try {\r\n      const nextTransfers = await getNextTransfers(lastTransfers[lastTransfers.length - 1]);\r\n      dispatch(setTransfersAction(_.concat(lastTransfers, nextTransfers)));\r\n    } catch (e) {\r\n      dispatch(setTransfersMessageAction(e));\r\n      dispatch(setTransfersReceivedAction(false));\r\n    } finally {\r\n      dispatch(loadingNextTransfersAction(false));\r\n    }\r\n  };\r\n}\r\n","import { getAllFiltersFromCity, getAllFiltersToCity } from \"../../services/data-service\";\r\nimport { getCityById } from \"../../utils/cities-util\";\r\nimport { convertToFilterFromObject } from \"../../utils/filters-util\";\r\nimport { loadingTransfersAction } from \"./loading-actions\";\r\nimport { getTransfersByAction } from \"./transfers-actions\";\r\n\r\nexport const SET_FILTER_FROM_CITIES = \"set-filter-from-cities\";\r\nexport const SET_FILTER_TO_CITIES = \"set-filter-to-cities\";\r\nexport const SET_IS_FILTER_APPLY = \"set-is-filters-apply\";\r\nexport const SET_FILTERS_FOR_APPLY = \"set-filters-for-apply\";\r\n\r\n// export function applyFilterFromCityIdAction(city) {\r\n//   return async (dispatch) => {\r\n//     dispatch(loadingTransfersAction(true));\r\n//     try {\r\n//       const filteredTransfers = await getTransfersByFromCityId(city);\r\n//       dispatch({\r\n//         type: SET_IS_FILTER_APPLY,\r\n//         payload: true,\r\n//       });\r\n//       dispatch({\r\n//         type: SET_TRANSFERS_IS_RECEIVED,\r\n//         payload: true,\r\n//       });\r\n//       dispatch({\r\n//         type: SET_TRANSFERS_DATA,\r\n//         payload: filteredTransfers.slice(),\r\n//       });\r\n//     } catch (e) {\r\n//       dispatch({\r\n//         type: SET_TRANSFERS_IS_RECEIVED,\r\n//         payload: false,\r\n//       });\r\n//       dispatch({\r\n//         type: SET_TRANSFERS_MESSAGE,\r\n//         payload: e,\r\n//       });\r\n//     } finally {\r\n//       dispatch(loadingTransfersAction(false));\r\n//     }\r\n//   };\r\n// }\r\n\r\nexport function setFilterApplyAction(isApply) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_IS_FILTER_APPLY,\r\n      payload: isApply,\r\n    });\r\n}\r\n\r\nexport function setFiltersForApplyAction(filters) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_FILTERS_FOR_APPLY,\r\n      payload: filters,\r\n    });\r\n}\r\n\r\nexport function applyFiltersAction(obj) {\r\n  return (dispatch) => {\r\n    const filters = convertToFilterFromObject(obj);\r\n    dispatch(setFiltersForApplyAction(filters));\r\n    dispatch(getTransfersByAction(filters));\r\n  };\r\n}\r\n\r\nexport function filtersFromCityAction() {\r\n  return async (dispatch) => {\r\n    dispatch(loadingTransfersAction(true));\r\n    try {\r\n      const filters = await getAllFiltersFromCity();\r\n      const fromCities = filters.map((v) => getCityById(v._id));\r\n      // const fromCitiesEn = Array.from(fromCities.map((c) => c.name));\r\n      const fromCitiesRu = Array.from(fromCities.map((c) => c.name_ru)).sort();\r\n      dispatch({\r\n        type: SET_FILTER_FROM_CITIES,\r\n        // payload: _.concat(fromCitiesEn, fromCitiesRu),\r\n        payload: fromCitiesRu,\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: SET_FILTER_FROM_CITIES,\r\n        payload: [],\r\n      });\r\n    } finally {\r\n      dispatch(loadingTransfersAction(false));\r\n    }\r\n  };\r\n}\r\n\r\nexport function filtersToCityAction() {\r\n  return async (dispatch) => {\r\n    dispatch(loadingTransfersAction(true));\r\n    try {\r\n      const filters = await getAllFiltersToCity();\r\n      const toCities = filters.map((v) => getCityById(v._id));\r\n      // const fromCitiesEn = Array.from(fromCities.map((c) => c.name));\r\n      const toCitiesRu = Array.from(toCities.map((c) => c.name_ru)).sort();\r\n      dispatch({\r\n        type: SET_FILTER_TO_CITIES,\r\n        payload: toCitiesRu,\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: SET_FILTER_TO_CITIES,\r\n        payload: [],\r\n      });\r\n    } finally {\r\n      dispatch(loadingTransfersAction(false));\r\n    }\r\n  };\r\n}\r\n","import {\r\n  SET_FILTERS_FOR_APPLY,\r\n  SET_FILTER_FROM_CITIES,\r\n  SET_FILTER_TO_CITIES,\r\n  SET_IS_FILTER_APPLY,\r\n} from \"../actions/filters-actions\";\r\n\r\nconst filtersState = {\r\n  isFilterApply: false,\r\n  filtersForApply: [],\r\n  fromCities: [],\r\n  toCities: [],\r\n};\r\n\r\nexport function filtersReducer(state = filtersState, action) {\r\n  switch (action.type) {\r\n    case SET_IS_FILTER_APPLY:\r\n      return { ...state, isFilterApply: action.payload };\r\n    case SET_FILTERS_FOR_APPLY:\r\n      return { ...state, filtersForApply: action.payload };\r\n    case SET_FILTER_FROM_CITIES:\r\n      return { ...state, fromCities: action.payload };\r\n    case SET_FILTER_TO_CITIES:\r\n      return { ...state, toCities: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_LOADING,\r\n  SET_LOADING_NEXT_TRANSFERS,\r\n  SET_LOADING_TRANSFER,\r\n  SET_LOADING_TRANSFERS,\r\n  SET_LOADING_UPLOAD_TRANSFER,\r\n} from \"../actions/loading-actions\";\r\n\r\nconst defaultLoadingState = {\r\n  isLoading: false,\r\n  isLoadingTransfers: false,\r\n  isLoadingTransfer: false,\r\n  isLoadingNextTransfers: false,\r\n  isLoadingNewTransfer: false,\r\n};\r\n\r\nexport function loadingReducer(state = defaultLoadingState, action) {\r\n  switch (action.type) {\r\n    case SET_LOADING:\r\n      return { ...state, isLoading: action.payload };\r\n    case SET_LOADING_TRANSFERS:\r\n      return { ...state, isLoadingTransfers: action.payload };\r\n    case SET_LOADING_TRANSFER:\r\n      return { ...state, isLoadingTransfer: action.payload };\r\n    case SET_LOADING_NEXT_TRANSFERS:\r\n      return { ...state, isLoadingNextTransfers: action.payload };\r\n    case SET_LOADING_UPLOAD_TRANSFER:\r\n      return { ...state, isLoadingNewTransfer: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { getTransfer, uploadNewTransfer } from \"../../services/data-service\";\r\nimport { loadingTransferAction, loadingUploadTransferAction } from \"./loading-actions\";\r\n\r\nexport const SET_TRANSFER_IS_RECEIVED = \"set-transfer-is-received\";\r\nexport const SET_TRANSFER_IS_SAVED = \"set-transfer-is-saved\";\r\nexport const SET_TRANSFER_DATA = \"set-transfer-data\";\r\nexport const SET_TRANSFER_MESSAGE = \"set-transfer-message\";\r\n\r\nexport function getTransferAction(id) {\r\n  return async (dispatch) => {\r\n    dispatch(loadingTransferAction(true));\r\n    dispatch(setTransferReceivedAction(false));\r\n    dispatch(setTransferDataAction({}));\r\n    try {\r\n      const transfer = await getTransfer(id);\r\n      dispatch(setTransferDataAction(transfer));\r\n      dispatch(setTransferReceivedAction(true));\r\n    } catch (e) {\r\n      dispatch(setTransferReceivedAction(false));\r\n      dispatch(setTransferMessageAction(e));\r\n    } finally {\r\n      dispatch(loadingTransferAction(false));\r\n    }\r\n  };\r\n}\r\n\r\nexport function setSavedNewTransferAction(isSaved) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFER_IS_SAVED,\r\n      payload: isSaved,\r\n    });\r\n}\r\n\r\nexport function setTransferReceivedAction(isReceived) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFER_IS_RECEIVED,\r\n      payload: isReceived,\r\n    });\r\n}\r\n\r\nexport function setTransferDataAction(data) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFER_DATA,\r\n      payload: data,\r\n    });\r\n}\r\n\r\nexport function setTransferMessageAction(msg) {\r\n  return (dispatch) =>\r\n    dispatch({\r\n      type: SET_TRANSFER_MESSAGE,\r\n      payload: msg,\r\n    });\r\n}\r\n\r\nexport function saveNewTransferAction(transfer) {\r\n  return async (dispatch) => {\r\n    dispatch(loadingUploadTransferAction(true));\r\n    dispatch(setSavedNewTransferAction(false));\r\n    dispatch(setTransferDataAction({}));\r\n    try {\r\n      const res = await uploadNewTransfer(transfer);\r\n      dispatch(setTransferDataAction(res));\r\n      dispatch(setSavedNewTransferAction(true));\r\n      dispatch(setTransferMessageAction(\"success\"));\r\n    } catch (e) {\r\n      dispatch(setSavedNewTransferAction(false));\r\n      dispatch(setTransferMessageAction(e));\r\n    } finally {\r\n      dispatch(loadingUploadTransferAction(false));\r\n    }\r\n  };\r\n}\r\n","import {\r\n  SET_TRANSFER_DATA,\r\n  SET_TRANSFER_IS_SAVED,\r\n  SET_TRANSFER_MESSAGE,\r\n  SET_TRANSFER_IS_RECEIVED,\r\n} from \"../actions/transfer-actions\";\r\n\r\nconst initialTransferState = {\r\n  isReceived: false,\r\n  data: {},\r\n  msg: \"\",\r\n};\r\n\r\nconst newTransferState = {\r\n  isSaved: false,\r\n  data: {},\r\n  msg: \"\",\r\n};\r\n\r\nexport function transferReducer(state = initialTransferState, action) {\r\n  switch (action.type) {\r\n    case SET_TRANSFER_IS_RECEIVED:\r\n      return { ...state, isReceived: action.payload };\r\n    case SET_TRANSFER_DATA:\r\n      return { ...state, data: action.payload };\r\n    case SET_TRANSFER_MESSAGE:\r\n      return { ...state, msg: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function saveNewTransferReducer(state = newTransferState, action) {\r\n  switch (action.type) {\r\n    case SET_TRANSFER_IS_SAVED:\r\n      return { ...state, isSaved: action.payload };\r\n    case SET_TRANSFER_DATA:\r\n      return { ...state, data: action.payload };\r\n    case SET_TRANSFER_MESSAGE:\r\n      return { ...state, msg: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_TRANSFERS_DATA,\r\n  SET_TRANSFERS_IS_NEXT,\r\n  SET_TRANSFERS_IS_RECEIVED,\r\n  SET_TRANSFERS_MESSAGE,\r\n} from \"../actions/transfers-actions\";\r\n\r\nconst receiveTransfersState = {\r\n  isReceived: false,\r\n  isNext: false,\r\n  data: [],\r\n  msg: \"\",\r\n};\r\n\r\nexport function transfersReducer(state = receiveTransfersState, action) {\r\n  switch (action.type) {\r\n    case SET_TRANSFERS_IS_RECEIVED:\r\n      return { ...state, isReceived: action.payload };\r\n    case SET_TRANSFERS_DATA:\r\n      return { ...state, data: action.payload };\r\n    case SET_TRANSFERS_MESSAGE:\r\n      return { ...state, msg: action.payload };\r\n    case SET_TRANSFERS_IS_NEXT:\r\n      return { ...state, isNext: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport appReducer from \"./reducers/app-reducer\";\r\nimport { filtersReducer } from \"./reducers/filters-reducer\";\r\nimport { loadingReducer } from \"./reducers/loading-reducer\";\r\nimport { saveNewTransferReducer, transferReducer } from \"./reducers/transfer-reducer\";\r\nimport { transfersReducer } from \"./reducers/transfers-reducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  app: appReducer,\r\n  transfers: transfersReducer,\r\n  transfer: transferReducer,\r\n  saveNewTransfer: saveNewTransferReducer,\r\n  filters: filtersReducer,\r\n  loading: loadingReducer,\r\n});\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from './redusers-combiner';\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n","import { makeStyles } from '@material-ui/core';\r\nimport { createTheme } from '@material-ui/core';\r\n\r\n// ! Color of Nav header and Nav Sidebar\r\nconst mainColor = \"#536dfe\";\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n\r\n\r\n  root: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      maxWidth: '5005px !important',\r\n        },\r\n        },\r\n\r\n\r\n        //!! Material ui default classes\r\n\r\n  // !! Top padding modifier.\r\n  topPadding: {\r\n    paddingTop: \"120px\",\r\n  },\r\n\r\n  list: {\r\n    width: 250,\r\n  },\r\n  fullList: {\r\n    width: \"auto\",\r\n  },\r\n  paper: {\r\n    background: `${mainColor}`,\r\n  },\r\n  icon: {\r\n    fill: \"white\",\r\n  },\r\n\r\n  // !! DrivePage\r\n\r\n  drivePage: {\r\n    maxWidth: \"360px\",\r\n    paddingTop: \"80px\",\r\n    paddingBottom: \"80px\"\r\n  },\r\n\r\n  // !! MainPage\r\n\r\n  mainPage: {\r\n    minHeight: \"100vh\",\r\n  },\r\n  mainPage__btn: {\r\n    minWidth: \"280px !important\",\r\n  },\r\n\r\n  //!! Navbar\r\n  nav: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  menuButton: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  toolbarContainer: {\r\n    maxWidth: '5000px !important',\r\n\r\n  },\r\n  toolbar: {\r\n    // maxWidth: '1980px',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    cursor: \"pointer\",\r\n    textAlign: \"center\",\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n  },\r\n  link: {\r\n    margin: theme.spacing(1, 1.5),\r\n    border: \"none\",\r\n    padding: \"10px\",\r\n    borderRadius: \"5px\",\r\n    position: \"relative\",\r\n    boxSizing: \"border-box\",\r\n    transition: \"all 500ms ease\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      boxShadow: \"inset 0 0 0 2px white\",\r\n      textDecoration: \"none\",\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  flag: {\r\n    width: \"15px\",\r\n    height: \"15px\",\r\n    marginRight: \"15px\",\r\n  },\r\n\r\n  whiteSelect: {\r\n    color: \"#fffffe !important\",\r\n  },\r\n\r\n \r\n  // !! Cheaptrip commercial.\r\n\r\n  ctDescription: {\r\n    padding: \"0.5rem\",\r\n    maxWidth: \"270px\",\r\n    borderRadius: \"1rem\",\r\n    fontSize: \"calc(18px + 14 * (100vw / 1920))\",\r\n    backgroundColor: \"rgb(255 87 34)\",\r\n    color: \"white\",\r\n  },\r\n\r\n  //!! Sidebar\r\n  sidebarHeader: {\r\n    position: \"relative\",\r\n    backgroundColor: `${mainColor}`,\r\n    color: \"#fff\",\r\n    padding: \"1rem 1rem 1rem 1rem\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  sidebarHeaderInfo: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    padding: \"0\",\r\n  },\r\n  sidebarCloseButton: {\r\n    width: \"1rem\",\r\n    height: \"1rem\",\r\n  },\r\n  sidebarList: {\r\n    color: \"#fff\",\r\n    width: \"200px\",\r\n  },\r\n  //!! Contact page\r\n  contacts: {},\r\n}));\r\n\r\nexport const theme = createTheme({\r\n  overrides: {\r\n    MuiInputBase: {\r\n      root: {\r\n        // color: \"white\",\r\n        fontSize: \"0.875rem\",\r\n        fontFamily: \"Roboto\",\r\n        fontWeight: 500,\r\n        lineHeight: 1.75,\r\n        letterSpacing: \"0.02857em\",\r\n        textTransform: \"uppercase\",\r\n      },\r\n    },\r\n  },\r\n  palette: {\r\n    primary: {\r\n      // main: \"#536dfe\",\r\n      // main: \"#ff5722\",\r\n      main: `${mainColor}`,\r\n    },\r\n    secondary: {\r\n      main: \"#607d8b\",\r\n    },\r\n  },\r\n});\r\n","export const currencies = [\r\n  {\"name\":\"Euro\",\"code\":\"EUR\",\"oneEuroRate\":1.0,\"r2rSymbol\":\"€\"},\r\n  {\"name\":\"United States Dollar\",\"code\":\"USD\",\"oneEuroRate\":1.17628,\"r2rSymbol\":\"$\"},\r\n  {\"name\": \"Russia Ruble\", \"code\": \"RUB\", \"oneEuroRate\": 86.2976, \"r2rSymbol\": \"₽\"},\r\n  {\"name\":\"Ukraine Hryvnia\",\"code\":\"UAH\",\"oneEuroRate\":31.547,\"r2rSymbol\":\"грн\"},\r\n  {\"name\":\"Belarus Ruble\",\"code\":\"BYN\",\"oneEuroRate\":2.95558,\"r2rSymbol\":\"Br\"},\r\n  // {\"name\":\"Israel Shekel\",\"code\":\"ILS\",\"oneEuroRate\":3.79445,\"r2rSymbol\":\"₪\"},\r\n  // {\"name\":\"India Rupee\",\"code\":\"INR\",\"oneEuroRate\":87.3294,\"r2rSymbol\":\"₹\"},\r\n  {\"name\":\"Poland Zloty\",\"code\":\"PLN\",\"oneEuroRate\":4.57397,\"r2rSymbol\":\"zł\"},\r\n  {\"name\":\"Czech Republic Koruna\",\"code\":\"CZK\",\"oneEuroRate\":25.4098,\"r2rSymbol\":\"Kč\"},\r\n  {\"name\":\"Romania Leu\",\"code\":\"RON\",\"oneEuroRate\":4.91368,\"r2rSymbol\":\"L\"},\r\n  {\"name\":\"Bulgaria Lev\",\"code\":\"BGN\",\"oneEuroRate\":1.95626,\"r2rSymbol\":\"лв.\"},\r\n  {\"name\":\"Hungary Forint\",\"code\":\"HUF\",\"oneEuroRate\":353.896,\"r2rSymbol\":\"Ft\"},\r\n  {\"name\":\"Turkey Lira\",\"code\":\"TRY\",\"oneEuroRate\":10.1526,\"r2rSymbol\":\"TL\"},\r\n  {\"name\":\"Croatia Kuna\",\"code\":\"HRK\",\"oneEuroRate\":7.49902,\"r2rSymbol\":\"kn\"},\r\n];","export const getCurrency = (state) => state.app.currency;\r\nexport const getLanguage = (state) => state.app.lang;\r\nexport const getSaveNewTransfer = (state) => state.saveNewTransfer;\r\nexport const getSidebar = (state) => state.app.sidebar;\r\nexport const getTransfers = (state) => state.transfers;\r\nexport const getTransfer = (state) => state.transfer;\r\nexport const getFromCityTransfers = (state) => state.fromCityTransfers;\r\nexport const getFilters = (state) => state.filters;\r\nexport const getLoading = (state) => state.loading;","import {\r\n  SET_CURRENCY,\r\n  SET_LANGUAGE,\r\n  SET_SIDEBAR,\r\n} from \"../reducers/app-reducer\";\r\n\r\nexport function setSidebarAction(isSidebar) {\r\n  return (dispatch) => dispatch({ type: SET_SIDEBAR, payload: isSidebar });\r\n}\r\n\r\nexport function setLanguageAction(language) {\r\n  return (dispatch) => dispatch({ type: SET_LANGUAGE, payload: language });\r\n}\r\n\r\nexport function setCurrencyAction(currency) {\r\n  return (dispatch) => dispatch({ type: SET_CURRENCY, payload: currency });\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useStyles } from '../../utils/useStyles';\r\nimport { FormControl, Select, MenuItem } from '@material-ui/core';\r\nimport { currencies } from '../../utils/currencies';\r\nimport { getCurrency } from '../../redux/selectors';\r\nimport { setCurrencyAction } from '../../redux/actions/app-actions';\r\n\r\nconst CurrenciesSelector = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const cur = useSelector(getCurrency);\r\n  return (\r\n    <FormControl>\r\n      <Select\r\n        className={classes.whiteSelect}\r\n        inputProps={{\r\n          classes: {\r\n            icon: classes.icon,\r\n          },\r\n        }}\r\n        value={cur}\r\n        renderValue={value => `${value.toUpperCase()}`}\r\n        disableUnderline\r\n      >\r\n        {currencies.map(item => {\r\n          return (\r\n            <MenuItem\r\n              key={item.code}\r\n              onClick={() => {\r\n                localStorage.setItem(\"currency\", item.code);\r\n                dispatch(setCurrencyAction(item.code));\r\n              }}\r\n            >\r\n              {item.code + `  ` + item.name}\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default CurrenciesSelector;\r\n","import { AppBar, IconButton, Toolbar } from \"@material-ui/core\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport { MAIN_PATH } from \"../../utils/constants\";\r\nimport { Sidebar, LanguageSelector } from \"..\";\r\nimport CurrenciesSelector from \"../CurrenciesSelector/CurrenciesSelector\";\r\nimport { useStyles } from \"../../utils/useStyles\";\r\nimport css from \"./Navbar.module.css\";\r\nimport { setSidebarAction } from \"../../redux/actions/app-actions\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getBuildMode } from \"../../config/build-config\";\r\n// import {useTranslation} from \"react-i18next\";\r\n\r\n// const Navbar = ({ changeLanguage }) => {\r\nconst Navbar = () => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const mode = getBuildMode();\r\n  // const mode = getBuildModeDev();\r\n\r\n  function getLogo() {\r\n    return (\r\n      <NavLink className={css.logo} to={MAIN_PATH}>\r\n        <span>TransferBuses</span>\r\n        {mode.mode === \"development\" && (\r\n          <div\r\n            style={{\r\n              fontSize: \"11px\",\r\n              fontWeight: \"200\",\r\n              color: \"rgba(250, 250, 250, 0.7)\",\r\n            }}\r\n          >\r\n            {mode.version} by {mode.developer}\r\n          </div>\r\n        )}\r\n      </NavLink>\r\n    );\r\n  }\r\n\r\n  console.log(typeof (process.env.REACT_APP_BUILD_MODE, \"****************\"));\r\n  console.log(process.env.REACT_APP_BUILD_MODE, \"****************\");\r\n  console.log(process.env);\r\n\r\n  return (\r\n    <AppBar position=\"fixed\">\r\n      {/*<Container maxWidth=\"lg\" fixed >*/}\r\n      {/*<Container maxWidth={'false !important'}>*/}\r\n      {/*<Container className={classes.toolbarContainer}>*/}\r\n      {/*<Container style={{maxWidth: '100% !important', width: '100% !important'}}>*/}\r\n      <Toolbar className={`${classes.toolbar} ${css.navbar}`}>\r\n        {getLogo()}\r\n        <nav className={`${classes.nav} ${css.option_block}`}>\r\n          <LanguageSelector />\r\n          <CurrenciesSelector />\r\n          <IconButton\r\n            onClick={() => dispatch(setSidebarAction(true))}\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n        </nav>\r\n      </Toolbar>\r\n      <Sidebar />\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { TRANSFERS_ADD_TRANSFER_PATH, CONTACTS_PATH, MAIN_PATH, TRANSFERS_PATH } from \"./constants\";\r\n\r\nexport const menuData = [\r\n  { title: \"Home\", path: MAIN_PATH },\r\n  { title: \"I\\u0027m a passenger\", path: TRANSFERS_PATH },\r\n  { title: \"I\\u0027m a driver\", path: TRANSFERS_ADD_TRANSFER_PATH },\r\n  { title: \"Contacts\", path: CONTACTS_PATH },\r\n];\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport Backend from 'i18next-http-backend';\r\n\r\ni18n.use(Backend)\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  .use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  // init i18next\r\n  // for all options read: https://www.i18next.com/overview/configuration-options\r\n  .init({\r\n    debug: true,\r\n    fallbackLng: 'en',\r\n    // keySeparator: false,\r\n    detection:{\r\n        order: ['localStorage','queryString','cookie'],\r\n        cache: ['cookie']\r\n    },\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    },\r\n\r\n  }, (err, t) => {\r\n      if (err) return console.log('something went wrong loading', err);\r\n      //console.log( t)\r\n      t(\"translation\"); // -> same as i18next.t\r\n  }) ;\r\n\r\nexport default i18n;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { Drawer, ListItem, List, ListItemText, Container, IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { menuData } from '../../../utils/menuData';\r\nimport { useStyles } from '../../../utils/useStyles';\r\nimport i18n from \"../../../i18n\";\r\nimport { getSidebar } from '../../../redux/selectors';\r\nimport { setSidebarAction } from '../../../redux/actions/app-actions';\r\n\r\nconst Sidebar = () => {\r\n  const dispatch = useDispatch();\r\n  const sidebar = useSelector(getSidebar);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  console.log(sidebar);\r\n\r\n  const closeHandler = (path) => {\r\n    history.push(path);\r\n    dispatch(setSidebarAction(false));\r\n  };\r\n  return (\r\n    <Drawer\r\n      anchor=\"right\"\r\n      classes={{ paper: classes.paper }}\r\n      open={sidebar}\r\n      onClose={() => dispatch(setSidebarAction(false))}\r\n    >\r\n      <Container fluid className={classes.sidebarHeader}>\r\n        <Container className={classes.sidebarHeaderInfo}>\r\n          <CloseIcon style={{cursor: \"pointer\"}} onClick={() => dispatch(setSidebarAction(false))} />\r\n          TransferBuses\r\n        </Container>\r\n      </Container>\r\n\r\n      <List\r\n        onClick={() => dispatch(setSidebarAction(false))}\r\n        className={classes.sidebarList}\r\n      >\r\n        {menuData.map(item => (\r\n          <ListItem button key={item.path}>\r\n            <ListItemText\r\n              primary={i18n.t(item.title)}\r\n              onClick={() => closeHandler(item.path)}\r\n            />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","//import { getTimeZones, rawTimeZones, timeZonesNames } from \"@vvo/tzdb\";\r\n\r\n// const timeZones_ = getTimeZones();\r\n// console.log(timeZones_[0])\r\n//\r\n// const countryCodes = [\r\n//   \"RU\", //RUSSIA\r\n//   \"UA\", //Ukraine\r\n//   \"BY\", //Belarus\r\n//   \"PT\", //Poland\r\n//   \"MD\", //Moldova\r\n//   \"DE\", //Germany\r\n//   \"CZ\", //Czech Republic\r\n//   \"LV\", //Latvia\r\n//   \"LT\", //Lithuania\r\n//   \"ES\", //Estonia\r\n//   \"FI\", //Finland\r\n//   \"RO\", //Romania\r\n//   \"SI\", //Slovenia\r\n//   \"SK\", //Slovakia\r\n//   \"BG\", //Bulgaria\r\n//   \"AT\", //Austria\r\n//   \"AD\", //Andorra\r\n//   \"AL\", //Albania\r\n//   \"BA\", //Bosnia and Herzegovina\r\n//   \"BE\", //Belgium\r\n//   \"CH\", //Switzerland\r\n//   \"CY\", //Cyprus\r\n//   \"DK\", //Denmark\r\n//   \"ES\", //Spain\r\n//   \"FR\", //France\r\n//   \"GB\", //United Kingdom\r\n//   \"GI\", //Gibraltar\r\n//   \"GR\", //Greece\r\n//   \"HR\", //Croatia\r\n//   \"HU\", //Hungary\r\n//   \"IE\", //Ireland\r\n//   \"IS\", //Iceland\r\n//   \"IT\", //Italy\r\n//   \"LI\", //Liechtenstein\r\n//   \"LU\", //Luxembourg\r\n//   \"MC\", //Monaco\r\n//   \"ME\", //Montenegro\r\n//   \"MK\", //Macedonia\r\n//   \"MT\", //Malta\r\n//   \"NL\", //Netherlands\r\n//   \"NO\", //Norway\r\n//   \"PT\", //Portugal\r\n//   \"RS\", //Serbia\r\n//   \"SE\", //Sweden\r\n//   \"SM\", //San Marino\r\n//   \"TR\", //Turkey\r\n// ]\r\n\r\nexport const timeZones = [\r\n  {\"shift\": \"0\", \"name\": \"GMT\"},\r\n  {\"shift\": \"1\", \"name\": \"GMT+1\"},\r\n  {\"shift\": \"2\", \"name\": \"GMT+2\"},\r\n  {\"shift\": \"3\", \"name\": \"GMT+3 Moscow\"},\r\n  {\"shift\": \"4\", \"name\": \"GMT+4\"},\r\n  {\"shift\": \"5\", \"name\": \"GMT+5\"},\r\n  {\"shift\": \"6\", \"name\": \"GMT+6\"},\r\n  {\"shift\": \"7\", \"name\": \"GMT+7\"},\r\n  {\"shift\": \"8\", \"name\": \"GMT+8\"},\r\n  {\"shift\": \"9\", \"name\": \"GMT+9\"},\r\n  {\"shift\": \"10\", \"name\": \"GMT+10\"},\r\n  {\"shift\": \"11\", \"name\": \"GMT+11\"},\r\n  {\"shift\": \"12\", \"name\": \"GMT+12\"},\r\n]","import { useEffect, useState } from \"react\";\r\nimport * as yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n// import CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\n// import CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport styles from \"./CarrierPage.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Checkbox,\r\n  Container,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControl,\r\n  FormControlLabel,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Select,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport cities_json from \"../../utils/cities.json\";\r\nimport i18n from \"../../i18n\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { currencies } from \"../../utils/currencies\";\r\nimport axios from \"axios\";\r\nimport \"yup-phone-lite\";\r\nimport { useStyles } from \"../../utils/useStyles\";\r\nimport { timeZones } from \"../../utils/timezones\";\r\nimport { getLoading, getSaveNewTransfer } from \"../../redux/selectors\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { saveNewTransferAction, setSavedNewTransferAction } from \"../../redux/actions/transfer-actions\";\r\nimport { TRANSFERS_PATH } from \"../../utils/constants\";\r\n\r\nconst schema = yup.object().shape({\r\n  from: yup.string().required(\"from.Required\"),\r\n  to: yup.string().required(\"to.Required\"),\r\n  date: yup.date().required(\"date.Required\"), //!!! date, departureTime, and duration are conditionally reassigned later;\r\n  departureTime: yup.string().required(\"departureTime.Required\"),\r\n  // duration: yup.string().required(\"duration.Required\"),\r\n  places: yup\r\n    .number()\r\n    .min(1, \"Available places must be more or equal to 1\")\r\n    .max(8, \"Available places must be less or equal to 8\")\r\n    .required(\"places.Required\"),\r\n  phoneNumber: yup.string().required(\"phoneNumber.Required\").phone(undefined, \"phoneNumber.isNotValid\"),\r\n  price: yup.number().positive(\"price.OnlyPositive\"),\r\n});\r\n\r\nexport default function CarrierPage() {\r\n  const dispatch = useDispatch();\r\n  const cur = useSelector((state) => state.app.currency);\r\n  const lang = useSelector((state) => state.app.lang);\r\n  const loading = useSelector(getLoading);\r\n  const [open, setOpen] = useState(false);\r\n  const transfer = useSelector(getSaveNewTransfer);\r\n  const classes = useStyles();\r\n  const [rideCurrency, setRideCurrency] = useState(cur);\r\n  // const [messenger, setMessenger] = useState();\r\n  // const [nearestCity, setNearestCity] = useState();\r\n  const [latitude, setLatitude] = useState();\r\n  const [longitude, setLongitude] = useState();\r\n  const [userTimeZone, setUserTimeZone] = useState(() => {\r\n    const timeZone = timeZones.find((tz) => tz.shift === \"\" + new Date().getTimezoneOffset() / -60);\r\n    return timeZone || timeZones[0];\r\n  });\r\n\r\n  console.log(transfer);\r\n\r\n  // console.log(\"cur: \", cur);\r\n  // console.log(\"rideCurrency: \", rideCurrency);\r\n  // console.log(\"Current latitude\", latitude);\r\n  // console.log(\"Current longitude\", longitude);\r\n  // console.log(lang);\r\n  //\r\n  // console.log(\"user time zone\", userTimeZone);\r\n\r\n  const cities =\r\n    lang === \"ru\"\r\n      ? [\r\n          ...cities_json\r\n            .reduce((acc, val) => {\r\n              acc.push({ id: val.ID, title: val[\"name_ru\"] });\r\n              return acc;\r\n            }, [])\r\n            .sort((a, b) => (a.title < b.title ? -1 : 1)),\r\n          ...cities_json\r\n            .reduce((acc, val) => {\r\n              acc.push({ id: val.ID, title: val.name });\r\n              return acc;\r\n            }, [])\r\n            .sort((a, b) => (a.title < b.title ? -1 : 1)),\r\n        ]\r\n      : cities_json\r\n          .reduce((acc, val) => {\r\n            acc.push({ id: val.ID, title: val.name });\r\n            acc.push({ id: val.ID, title: val[\"name_ru\"] });\r\n            return acc;\r\n          }, [])\r\n          .sort((a, b) => (a.title < b.title ? -1 : 1));\r\n\r\n  // const durations = [\" \", \"0:30\",]\r\n  // for(let i=1; i<=12;i++){\r\n  //   durations.push(i+\":00\")\r\n  //   durations.push(i+\":30\")\r\n  // }\r\n\r\n  const durations = [\" \"];\r\n  const maxDurationHour = 48;\r\n  for (let i = 1; i < maxDurationHour; i++) {\r\n    durations.push(i + \":00\");\r\n    // durations.push(i+\":30\")\r\n  }\r\n  // durations.pop()\r\n  durations.push(maxDurationHour + \":00 +\");\r\n\r\n  const handleClose = () => {\r\n    // dispatch(setSavedNewTransferAction(false));\r\n    setOpen(false);\r\n  };\r\n\r\n  const defaultProps = {\r\n    options: cities,\r\n    getOptionLabel: (option) => {\r\n      // console.log(option.title);\r\n      return option.title;\r\n    },\r\n  };\r\n\r\n  const getCity = (lat, long) => {\r\n    const URL = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${long}&accept-language=en`;\r\n    axios.get(URL).then((response) => console.log(response.data));\r\n  };\r\n\r\n  // !! Compute Distance Between current city and nearest City in AutoComplete \"From\".\r\n  const getDefaultCity = () => {\r\n    cities_json.forEach((element) => {\r\n      // debugger;\r\n      let absLat = Math.round(latitude);\r\n      let elementAbsLat = Math.round(element.latitude);\r\n      let absLng = Math.round(longitude);\r\n      let elementAbsLng = Math.round(element.longitude);\r\n      if (absLat === elementAbsLat && absLng === elementAbsLng) {\r\n        console.log(\"est\");\r\n      } else {\r\n        const getDistance = (cityLat, cityLng) => {\r\n          const R = 6371e3;\r\n          const φ1 = (latitude * Math.PI) / 180; // φ, λ in radians\r\n          const φ2 = (cityLat * Math.PI) / 180;\r\n          const Δφ = ((cityLat - latitude) * Math.PI) / 180;\r\n          const Δλ = ((cityLng - longitude) * Math.PI) / 180;\r\n          const a =\r\n            Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n            Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n          const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n          const d = R * c; // in metres\r\n          return d;\r\n        };\r\n        const getNearestCity = (arr) => {\r\n          let lowest = {};\r\n          let temp;\r\n          arr.forEach((element) => {\r\n            if (Object.keys(lowest).length === 0 && lowest.constructor === Object) {\r\n              lowest = {\r\n                id: element.id,\r\n                Name: element.Name,\r\n                distanceBetween: element.distanceBetween,\r\n              };\r\n            } else {\r\n              temp = element.distanceBetween;\r\n              if (temp < lowest)\r\n                lowest = {\r\n                  id: element.id,\r\n                  Name: element.Name,\r\n                  distanceBetween: element.distanceBetween,\r\n                };\r\n            }\r\n          });\r\n          return lowest;\r\n        };\r\n        let intervals = cities_json.map((element) => {\r\n          return {\r\n            id: element.ID,\r\n            Name: element.name,\r\n            distanceBetween: getDistance(element.latitude, element.longitude),\r\n          };\r\n        });\r\n        //console.log(intervals);\r\n      }\r\n      // console.log(intervals);\r\n    });\r\n    // console.log(\"Nearest City\", getNearestCity(intervals));\r\n  };\r\n\r\n  useEffect(() => {\r\n    let startPos;\r\n    const geoSuccess = function (position) {\r\n      startPos = position;\r\n      setLatitude(startPos.coords.latitude);\r\n      setLongitude(startPos.coords.longitude);\r\n      getCity(startPos.coords.latitude, startPos.coords.longitude);\r\n    };\r\n    // geolocation determination is temporary commented out. To turn it on, uncomment the line bellow\r\n    // navigator.geolocation.getCurrentPosition(geoSuccess);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (latitude && longitude) {\r\n      getDefaultCity();\r\n    }\r\n  });\r\n\r\n  return (\r\n    // <Container maxWidth=\"sm\" className={classes.drivePage}>\r\n    <Container maxWidth=\"sm\" style={{ marginTop: \"75px\" }}>\r\n      <Formik\r\n        initialValues={{\r\n          date: new Date().toJSON().slice(0, 10),\r\n          departureTime: \"\",\r\n          timeZone: userTimeZone.shift,\r\n          phoneNumber: \"\",\r\n          places: 1,\r\n          price: \"\",\r\n          currency: rideCurrency,\r\n          duration: \"\",\r\n          passAParcel: false,\r\n          isPetsAllowed: false,\r\n          additionalInfo: \"\",\r\n          regularTrips: false,\r\n          regularTripsDays: {\r\n            _0monday: {\r\n              selected: false,\r\n              departureTime: \"\",\r\n            },\r\n            _1tuesday: {\r\n              selected: false,\r\n              departureTime: \"\",\r\n            },\r\n            _2wednesday: {\r\n              selected: false,\r\n              departureTime: \"\",\r\n            },\r\n            _3thursday: {\r\n              selected: false,\r\n              departureTime: \"\",\r\n            },\r\n            _4friday: {\r\n              selected: false,\r\n              departureTime: \"\",\r\n            },\r\n            _5saturday: {\r\n              selected: false,\r\n              departureTime: \"\",\r\n            },\r\n            _6sunday: {\r\n              selected: false,\r\n              departureTime: \"\",\r\n            },\r\n          },\r\n        }}\r\n        onSubmit={(values) => {\r\n          console.log(\"SUBMITTING\");\r\n          const departureTimeGMT = values.departureTime.split(\":\");\r\n          departureTimeGMT[0] -= values.timeZone;\r\n          values.departureTime = departureTimeGMT.join(\":\");\r\n          console.log(values);\r\n          // history.push(\"/\");\r\n          // dispatch(loadingUploadTransferAction(true));\r\n          dispatch(saveNewTransferAction(values));\r\n          setOpen(true);\r\n          // .then(() => {\r\n          //   setMessage({ type: \"success\", msg: i18n.t(\"SuccessTrip\") });\r\n          //\r\n          // });\r\n          // uploadTransfer(values)\r\n          //   .then((response) => {\r\n          //     console.log(response);\r\n          //     setMessage({ type: \"success\", msg: i18n.t(\"SuccessTrip\") });\r\n          //     dispatch(loadingUploadTransferAction(false));\r\n          //     setOpen(true);\r\n          //     // history.push(\"/\");\r\n          //   })\r\n          //   .catch((error) => {\r\n          //     console.log(error);\r\n          //     setMessage({ type: \"error\", msg: error });\r\n          //     setOpen(true);\r\n          //   });\r\n        }}\r\n        validationSchema={schema}\r\n      >\r\n        {(props) => {\r\n          // console.log(\"Formik props: \", props);\r\n\r\n          if (props.values.regularTrips) {\r\n            schema.fields.date = null;\r\n            schema.fields.duration = null;\r\n            schema.fields.departureTime = null;\r\n          } else {\r\n            schema.fields.date = yup.date().required(\"date.Required\");\r\n            schema.fields.departureTime = yup.string().required(\"departureTime.Required\");\r\n            // schema.fields.duration = yup.string().required(\"duration.Required\");\r\n          }\r\n\r\n          const handleSelectAllDaysChange = (event) => {\r\n            // console.log(event.target);\r\n            // console.log(event.target.checked);\r\n            const weekDays = {};\r\n            Object.keys(props.values.regularTripsDays).map((weekDay) => {\r\n              weekDays[weekDay] = {\r\n                selected: event.target.checked,\r\n                departureTime: props.values.regularTripsDays[weekDay].departureTime,\r\n              };\r\n            });\r\n\r\n            // console.log(\"weekdays: \", weekDays);\r\n            props.setFieldValue(\"regularTripsDays\", weekDays);\r\n          };\r\n\r\n          return (\r\n            <form onSubmit={props.handleSubmit} className={styles.form_style}>\r\n              <Autocomplete\r\n                className={styles.height95px}\r\n                {...defaultProps}\r\n                id=\"from\"\r\n                name={\"from\"}\r\n                value={props.values.from}\r\n                margin=\"dense\"\r\n                onChange={(e, v) => {\r\n                  props.setFieldValue(\"from\", v?.id || \"\");\r\n                }}\r\n                onBlur={props.handleBlur}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    label={i18n.t(\"From\")}\r\n                    margin=\"normal\"\r\n                    error={Boolean(props.errors.from) && props.touched.from}\r\n                    helperText={\r\n                      Boolean(props.errors.from) &&\r\n                      props.touched.from &&\r\n                      i18n.t(`form.errors.${props.errors.from}`)\r\n                    }\r\n                  />\r\n                )}\r\n                ListboxProps={{ style: { maxHeight: \"7rem\" } }}\r\n              />\r\n              <Autocomplete\r\n                className={styles.height95px}\r\n                {...defaultProps}\r\n                id=\"to\"\r\n                name={\"to\"}\r\n                value={props.values.to}\r\n                onBlur={props.handleBlur}\r\n                onChange={(e, v) => {\r\n                  props.setFieldValue(\"to\", v?.id || \"\");\r\n                }}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    label={i18n.t(\"To\")}\r\n                    margin=\"dense\"\r\n                    error={Boolean(props.errors.to) && props.touched.to}\r\n                    helperText={\r\n                      Boolean(props.errors.to) && props.touched.to && i18n.t(`form.errors.${props.errors.to}`)\r\n                    }\r\n                  />\r\n                )}\r\n                // ListboxProps={{ style: { maxHeight: \"7rem\" } }}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    id={\"regularTrips\"}\r\n                    checked={props.values.regularTrips}\r\n                    onChange={props.handleChange}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label={i18n.t(\"Regular trips\")}\r\n              />\r\n              {props.values.regularTrips && (\r\n                <Paper variant=\"outlined\" style={{ padding: \"8px\" }}>\r\n                  <Grid\r\n                    container\r\n                    direction=\"column\"\r\n                    // alignItems=\"center\"\r\n                    // justify=\"center\"\r\n                    // style={{minHeight: \"100vh\"}}\r\n                  >\r\n                    <Grid container direction={\"row\"}>\r\n                      <Grid item xs={9}>\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Checkbox\r\n                              checked={\r\n                                Object.values(props.values.regularTripsDays).reduce(\r\n                                  (acc, val) => (acc += +val.selected),\r\n                                  0\r\n                                ) === 7\r\n                              }\r\n                              onChange={handleSelectAllDaysChange}\r\n                              name=\"selectAll\"\r\n                              margin={\"\"}\r\n                            />\r\n                          }\r\n                          label={i18n.t(\"Select all\")}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={3}>\r\n                        {i18n.t(\"Time\")}\r\n                      </Grid>\r\n                    </Grid>\r\n\r\n                    {Object.keys(props.values.regularTripsDays).map((weekDay) => {\r\n                      return (\r\n                        <Grid\r\n                          container\r\n                          direction={\"row\"}\r\n                          alignItems=\"flex-end\"\r\n                          id={\"regularTripsDays.\" + weekDay}\r\n                          key={\"regularTripsDays.\" + weekDay}\r\n                        >\r\n                          <Grid item xs={9}>\r\n                            <FormControlLabel\r\n                              style={{ marginLeft: \"10px\" }}\r\n                              control={\r\n                                <Checkbox\r\n                                  id={\"regularTripsDays.\" + weekDay + \".selected\"}\r\n                                  checked={props.values.regularTripsDays[weekDay].selected}\r\n                                  onChange={props.handleChange}\r\n                                  name={\"regularTripsDays.\" + weekDay + \".selected\"}\r\n                                />\r\n                              }\r\n                              label={i18n.t(weekDay)}\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={3}>\r\n                            <Tooltip title={i18n.t(\"Time\")} placement=\"top\">\r\n                              <TextField\r\n                                id={\"regularTripsDays.\" + weekDay + \".departureTime\"}\r\n                                name={\"regularTripsDays.\" + weekDay + \".departureTime\"}\r\n                                type=\"time\"\r\n                                margin=\"normal\"\r\n                                disabled={!props.values.regularTripsDays[weekDay].selected}\r\n                                value={props.values.regularTripsDays[weekDay].departureTime}\r\n                                onChange={props.handleChange}\r\n                              />\r\n                            </Tooltip>\r\n                          </Grid>\r\n                        </Grid>\r\n                      );\r\n                    })}\r\n                  </Grid>\r\n                </Paper>\r\n              )}\r\n              {!props.values.regularTrips && (\r\n                <>\r\n                  <Grid container justifyContent=\"space-between\">\r\n                    <Grid item xs={6}>\r\n                      <TextField\r\n                        id=\"date\"\r\n                        label={i18n.t(\"Date\")}\r\n                        type=\"date\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        onBlur={props.handleBlur}\r\n                        error={Boolean(props.errors.date) && props.touched.date}\r\n                        // size={\"small\"}\r\n                        helperText={\r\n                          Boolean(props.errors.date) &&\r\n                          props.touched.date &&\r\n                          i18n.t(`form.errors.${props.errors.date}`)\r\n                        }\r\n                        value={props.values.date}\r\n                        onChange={props.handleChange}\r\n                        inputProps={{\r\n                          min: new Date().toISOString().slice(0, 10),\r\n                        }}\r\n                        InputLabelProps={{\r\n                          shrink: true,\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                  {/**** DEPARTURE TIME ****/}\r\n                  <Grid container justifyContent=\"space-between\">\r\n                    <Grid item xs={5}>\r\n                      <TextField\r\n                        id=\"departureTime\"\r\n                        label={i18n.t(\"Time\")}\r\n                        type=\"time\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        onBlur={props.handleBlur}\r\n                        error={Boolean(props.errors.departureTime) && props.touched.departureTime}\r\n                        helperText={\r\n                          Boolean(props.errors.departureTime) &&\r\n                          props.touched.departureTime &&\r\n                          i18n.t(`form.errors.${props.errors.departureTime}`)\r\n                        }\r\n                        value={props.values.departureTime}\r\n                        onChange={props.handleChange}\r\n                        inputProps={{\r\n                          min: new Date().toISOString().slice(0, 16),\r\n                        }}\r\n                        InputLabelProps={{\r\n                          shrink: true,\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    {/*^^^ DEPARTURE TIME ^^^*/}\r\n\r\n                    {/*VVV DEPARTURE TIMEZONE   temporary commented out VVV*/}\r\n                    {/*<Grid item xs={6}>*/}\r\n                    {/*    <FormControl*/}\r\n                    {/*        fullWidth*/}\r\n                    {/*        style={{ paddingTop: \"0px\", marginTop: \"9px\" }}*/}\r\n                    {/*    >*/}\r\n                    {/*        <InputLabel*/}\r\n                    {/*            shrink*/}\r\n                    {/*            id=\"timeZone-label\"*/}\r\n                    {/*            style={{ marginTop: \"8px\" }}*/}\r\n                    {/*        >*/}\r\n                    {/*            {i18n.t(\"Timezone\")}*/}\r\n                    {/*        </InputLabel>*/}\r\n                    {/*        <Select*/}\r\n                    {/*            labelId=\"timeZone-label\"*/}\r\n                    {/*            id=\"timeZone\"*/}\r\n                    {/*            label=\"timeZone\"*/}\r\n                    {/*            margin=\"normal\"*/}\r\n                    {/*            name={\"timeZone\"}*/}\r\n                    {/*            value={userTimeZone.shift}*/}\r\n                    {/*            onChange={props.handleChange}*/}\r\n                    {/*            style={{ textTransform: \"none\" }}*/}\r\n                    {/*            helperText={\" 123\"}*/}\r\n                    {/*        >*/}\r\n                    {/*            {timeZones.map((item) => {*/}\r\n                    {/*                return (*/}\r\n                    {/*                    <MenuItem*/}\r\n                    {/*                        key={item.shift}*/}\r\n                    {/*                        value={item.shift}*/}\r\n                    {/*                        onClick={() => {*/}\r\n                    {/*                            setUserTimeZone(item);*/}\r\n                    {/*                        }}*/}\r\n                    {/*                    >*/}\r\n                    {/*                        /!*{item.name}*!/*/}\r\n                    {/*                        {\"GMT+\" +*/}\r\n                    {/*                            item.shift +*/}\r\n                    {/*                            \" \" +*/}\r\n                    {/*                            i18n.t(\"timezone.\" + item.shift)}*/}\r\n                    {/*                    </MenuItem>*/}\r\n                    {/*                );*/}\r\n                    {/*            })}*/}\r\n                    {/*        </Select>*/}\r\n                    {/*    </FormControl>*/}\r\n                    {/*</Grid>*/}\r\n                    {/*^^^ DEPARTURE TIMEZONE ^^^*/}\r\n                  </Grid>\r\n                </>\r\n              )}\r\n              <Grid container justifyContent=\"space-between\">\r\n                <Grid item xs={5}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel shrink id=\"duration-label\">\r\n                      {i18n.t(\"Travel time\")}\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId=\"duration-label\"\r\n                      id=\"duration\"\r\n                      name={\"duration\"}\r\n                      value={props.values.duration}\r\n                      renderValue={(value) => `${value}`}\r\n                      margin=\"dense\"\r\n                      // disableUnderline\r\n                      onChange={props.handleChange}\r\n                      label=\"duration\"\r\n                      //style={{paddingTop: \"9px\"}}\r\n                    >\r\n                      {durations.map((item) => {\r\n                        return (\r\n                          <MenuItem\r\n                            key={item}\r\n                            value={item}\r\n                            // onClick={() => setRideCurrency(item.code)}\r\n                          >\r\n                            {item}\r\n                          </MenuItem>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n              {/* Phone number block */}\r\n              <Grid container justifyContent=\"space-between\" alignItems=\"flex-end\">\r\n                {/* Phone */}\r\n                <Grid item xs={8}>\r\n                  <TextField\r\n                    fullWidth\r\n                    id=\"phoneNumber\"\r\n                    name=\"phoneNumber\"\r\n                    label={i18n.t(\"Phone number\")}\r\n                    placeholder={\"+1234567890\"}\r\n                    margin=\"normal\"\r\n                    value={props.values.phoneNumber}\r\n                    onBlur={props.handleBlur}\r\n                    error={Boolean(props.errors.phoneNumber) && props.touched.phoneNumber}\r\n                    helperText={\r\n                      Boolean(props.errors.phoneNumber) &&\r\n                      props.touched.phoneNumber &&\r\n                      i18n.t(`form.errors.${props.errors.phoneNumber}`)\r\n                    }\r\n                    onChange={props.handleChange}\r\n                  />\r\n                </Grid>\r\n                {/* Messenger */}\r\n                <Grid item xs={4}>\r\n                  {/* Checkboxes */}\r\n                  {/* <FormGroup aria-label=\"position\" row>\r\n                    <FormControlLabel\r\n                      control={\r\n                        <Checkbox\r\n                          checked={state.checkedB}\r\n                          // onChange={}\r\n                          name=\"checkedB\"\r\n                          color=\"primary\"\r\n                        />\r\n                      }\r\n                      labelPlacement=\"top\"\r\n                      label=\"Telegram\"\r\n                    />\r\n                    <FormControlLabel\r\n                      control={\r\n                        <Checkbox\r\n                          checked={state.checkedB}\r\n                          // onChange={}\r\n                          name=\"checkedB\"\r\n                          color=\"primary\"\r\n                        />\r\n                      }\r\n                      labelPlacement=\"top\"\r\n                      label=\"WhatsApp\"\r\n                    />\r\n                  </FormGroup> */}\r\n                  {/* Select */}\r\n                  {/* <InputLabel id=\"messengers\">{i18n.t(\"Messenger\")}</InputLabel>\r\n                  <Select\r\n                    className=\"select\"\r\n                    id=\"messengers\"\r\n                    labelId=\"messenger\"\r\n                    name={\"messengers\"}\r\n                    margin=\"normal\"\r\n                    disableUnderline\r\n                    onChange={({ target: { value } }) => {\r\n                      setMessenger(value);\r\n                    }}\r\n                  >\r\n                    <MenuItem value=\"Telegram\">\r\n                      <img src={telegramIcon} alt=\"Telegram\" />\r\n                    </MenuItem>\r\n                    <MenuItem value=\"WhatsApp\">\r\n                      <img src={whatsAppIcon} alt=\"WhatsApp\" />\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Viber\">\r\n                      <img src={viberIcon} alt=\"Viber\" />\r\n                    </MenuItem>\r\n                  </Select> */}\r\n                  {/*  */}\r\n                </Grid>\r\n              </Grid>\r\n              {/*<Grid container >*/}\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                container\r\n                alignItems=\"flex-end\"\r\n                style={{ display: \"flex\", alignItems: \"center\" }}\r\n              >\r\n                <Grid item xs={8}>\r\n                  <TextField\r\n                    type=\"number\"\r\n                    value={props.values.price}\r\n                    margin=\"dense\"\r\n                    id=\"price\"\r\n                    label={i18n.t(\"Price\")}\r\n                    onChange={props.handleChange}\r\n                    onBlur={props.handleBlur}\r\n                    error={Boolean(props.errors.price) && props.touched.price}\r\n                    helperText={\r\n                      Boolean(props.errors.price) &&\r\n                      props.touched.price &&\r\n                      i18n.t(`form.errors.${props.errors.price}`)\r\n                    }\r\n                    // inputProps={{\r\n                    //   min: 0,\r\n                    //   type: \"price\",\r\n                    //   \"aria-labelledby\": \"input-slider\",\r\n                    // }}\r\n                  />\r\n                </Grid>\r\n\r\n                {/*CURRENCY v*/}\r\n                <Grid item xs={4}>\r\n                  <Select\r\n                    id=\"currency\"\r\n                    name={\"currency\"}\r\n                    value={rideCurrency}\r\n                    renderValue={(value) => `${value.toUpperCase()}`}\r\n                    margin=\"dense\"\r\n                    disableUnderline\r\n                    onChange={props.handleChange}\r\n                    label=\"currency\"\r\n                    style={{ paddingTop: \"8px\" }}\r\n                  >\r\n                    {currencies.map((item) => {\r\n                      return (\r\n                        <MenuItem\r\n                          key={item.code}\r\n                          value={item.code}\r\n                          onClick={() => setRideCurrency(item.code)}\r\n                        >\r\n                          {item.code + `  ` + item.name}\r\n                        </MenuItem>\r\n                      );\r\n                    })}\r\n                  </Select>\r\n                </Grid>\r\n                {/*CURRENCY ^*/}\r\n              </Grid>\r\n              {/*</Grid>*/}\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    id={\"passAParcel\"}\r\n                    checked={props.values.passAParcel}\r\n                    onChange={props.handleChange}\r\n                    color=\"primary\"\r\n                    value={props.values.parcel}\r\n                  />\r\n                }\r\n                label={i18n.t(\"Pass a parcel\")}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    id=\"isPetsAllowed\"\r\n                    checked={props.values.isPetsAllowed}\r\n                    onChange={props.handleChange}\r\n                    color=\"primary\"\r\n                    value={props.values.isPetsAllowed}\r\n                  />\r\n                }\r\n                label={i18n.t(\"PetsAllowed\")}\r\n              />\r\n              <TextField\r\n                value={props.values.additionalInfo}\r\n                margin=\"normal\"\r\n                id=\"additionalInfo\"\r\n                name=\"additionalInfo\"\r\n                fullWidth\r\n                multiline\r\n                rows={2}\r\n                error={Boolean(props.errors.additionalInfo) && props.touched.additionalInfo}\r\n                label={i18n.t(\"Additional information\")}\r\n                onChange={props.handleChange}\r\n                helperText={\r\n                  Boolean(props.errors.additionalInfo) &&\r\n                  props.touched.additionalInfo &&\r\n                  i18n.t(`form.errors.${props.errors.additionalInfo}`)\r\n                }\r\n              />\r\n              <div style={{ margin: \"10px\" }} className={\"submitBtn\"}>\r\n                <LoadingButton\r\n                  loading={loading.isLoadingNewTransfer}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  fullWidth\r\n                  type=\"submit\"\r\n                >\r\n                  {i18n.t(\"Publish a ride\")}\r\n                </LoadingButton>\r\n                {/* {loading ? <CircularProgress /> : null} */}\r\n              </div>\r\n              {!loading.isLoadingNewTransfer && (\r\n                <Dialog open={open} onClose={handleClose} aria-labelledby=\"responsive-dialog-title\">\r\n                  <DialogTitle id=\"alert-dialog-title\">\r\n                    {transfer.isSaved ? i18n.t(\"Success\") : i18n.t(\"Failure\")}\r\n                  </DialogTitle>\r\n                  <DialogContent>\r\n                    {transfer.isSaved ? (\r\n                      <>\r\n                        <span>{i18n.t(\"SuccessTripMsg\")} </span>\r\n                        <Link to={`${TRANSFERS_PATH}/${transfer.data._id}`} target=\"_blank\">\r\n                          {i18n.t(\"More\")}\r\n                        </Link>\r\n                      </>\r\n                    ) : (\r\n                      i18n.t(\"FailureTripMsg\")\r\n                    )}\r\n                  </DialogContent>\r\n                  <DialogActions>\r\n                    <Button onClick={handleClose} autoFocus>\r\n                      Ok\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              )}\r\n            </form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Logo_ChT_2.f6260958.png\";","import classes from \"./Filter.module.css\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { Autocomplete } from \"@material-ui/lab\";\r\n\r\nexport default function FilterComponent({ label, getOptionLabel, options, handler, inputValue }) {\r\n  return (\r\n    <div className={classes.filter}>\r\n      <Autocomplete\r\n        freeSolo\r\n        variant=\"outlined\"\r\n        id=\"combo-box-demo\"\r\n        inputValue={inputValue}\r\n        options={options}\r\n        getOptionLabel={getOptionLabel}\r\n        sx={{ width: 500 }}\r\n        onInputChange={handler}\r\n        renderInput={(params) => <TextField variant=\"outlined\" {...params} label={label} />}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import classes from \"./Filters.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport FilterComponent from \"./Filter/FilterComponent\";\r\nimport { getFilters } from \"../../../redux/selectors\";\r\nimport {\r\n  applyFiltersAction,\r\n  filtersFromCityAction,\r\n  filtersToCityAction,\r\n} from \"../../../redux/actions/filters-actions\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport { TRANSFERS_PATH } from \"../../../utils/constants\";\r\nimport { getCityByName } from \"../../../utils/cities-util\";\r\nimport i18n from \"../../../i18n\";\r\nimport { getTransfersAction } from \"../../../redux/actions/transfers-actions\";\r\nimport { Checkbox, FormControlLabel, TextField } from \"@mui/material\";\r\nimport { getFilterUri } from \"../../../utils/filters-util\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default function FiltersComponent() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const query = useQuery();\r\n  const filters = useSelector(getFilters);\r\n  const [uriData, setUriData] = useState({\r\n    from: query.get(\"from\") || \"\",\r\n    to: query.get(\"to\") || \"\",\r\n    date: query.get(\"date\") || \"\",\r\n    regular_trips: Boolean(query.get(\"regular_trips\")) || false,\r\n    pass_parcel: Boolean(query.get(\"pass_parcel\")) || false,\r\n    pets_allowed: Boolean(query.get(\"pets_allowed\")) || false,\r\n  });\r\n\r\n  const handleInputFrom = (e, v) => {\r\n    setUriData({ ...uriData, from: v });\r\n  };\r\n\r\n  const handleInputTo = (e, v) => {\r\n    setUriData({ ...uriData, to: v });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(filtersFromCityAction());\r\n    dispatch(filtersToCityAction());\r\n    history.push(getFilterUri(`${TRANSFERS_PATH}`, uriData));\r\n    if (\r\n      uriData.from ||\r\n      uriData.to ||\r\n      uriData.date ||\r\n      uriData.pass_parcel ||\r\n      uriData.pets_allowed ||\r\n      uriData.regular_trips\r\n    ) {\r\n      const cityTo = getCityByName(uriData.to);\r\n      const cityFrom = getCityByName(uriData.from);\r\n      let objForFB = {\r\n        from: cityFrom ? cityFrom.ID : \"\",\r\n        to: cityTo ? cityTo.ID : \"\",\r\n        date: uriData.date,\r\n        regularTrips: Boolean(uriData.regular_trips),\r\n        passAParcel: Boolean(uriData.pass_parcel),\r\n        isPetsAllowed: Boolean(uriData.pets_allowed),\r\n      };\r\n      dispatch(applyFiltersAction(objForFB));\r\n    } else {\r\n      dispatch(getTransfersAction());\r\n    }\r\n  }, [dispatch, uriData]);\r\n\r\n  return (\r\n    <div className={classes.filters_sector}>\r\n      <span>{i18n.t(\"Filter\")}</span>\r\n      <div className={classes.filters}>\r\n        <div className={classes.block}>\r\n          <FilterComponent\r\n            label={i18n.t(\"FromCity\")}\r\n            options={filters.fromCities}\r\n            handler={handleInputFrom}\r\n            inputValue={uriData.from}\r\n            // getOptionLabel={(o) => o.name}\r\n          />\r\n          <FilterComponent\r\n            label={i18n.t(\"ToCity\")}\r\n            options={filters.toCities}\r\n            handler={handleInputTo}\r\n            inputValue={uriData.to}\r\n            // getOptionLabel={(o) => o.name}\r\n          />\r\n        </div>\r\n        <div className={classes.block}>\r\n          <TextField\r\n            disabled={uriData.regular_trips}\r\n            id=\"date\"\r\n            label={i18n.t(\"Date\")}\r\n            type=\"date\"\r\n            margin=\"normal\"\r\n            value={uriData.date}\r\n            onChange={(e) => setUriData({ ...uriData, date: e.target.value })}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n          <Button\r\n            disabled={uriData.date === \"\"}\r\n            variant=\"outlined\"\r\n            onClick={() =>\r\n              setUriData({\r\n                ...uriData,\r\n                date: \"\",\r\n              })\r\n            }\r\n            style={{ marginLeft: \"10px\", marginBottom: \"10px\" }}\r\n          >\r\n            {i18n.t(\"Clear\")}\r\n          </Button>\r\n        </div>\r\n        <div className={classes.block}>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                checked={uriData.regular_trips}\r\n                onChange={() => setUriData({ ...uriData, date: \"\", regular_trips: !uriData.regular_trips })}\r\n              />\r\n            }\r\n            label={i18n.t(\"Regular trips\")}\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                checked={uriData.pass_parcel}\r\n                onChange={() => setUriData({ ...uriData, pass_parcel: !uriData.pass_parcel })}\r\n              />\r\n            }\r\n            label={i18n.t(\"Pass a parcel\")}\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                checked={uriData.pets_allowed}\r\n                onChange={() => setUriData({ ...uriData, pets_allowed: !uriData.pets_allowed })}\r\n              />\r\n            }\r\n            label={i18n.t(\"PetsAllowed\")}\r\n          />\r\n        </div>\r\n        <div className={classes.buttons_block}>\r\n          {/* <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => history.push(getFilterUri(`${TRANSFERS_PATH}`, uriData))}\r\n            style={{ marginLeft: \"10px\", marginBottom: \"10px\" }}\r\n          >\r\n            {i18n.t(\"Apply\")}\r\n          </Button> */}\r\n          <Button\r\n            disabled={!Boolean(\r\n              uriData.from ||\r\n              uriData.to ||\r\n              uriData.date ||\r\n              uriData.pass_parcel ||\r\n              uriData.pets_allowed ||\r\n              uriData.regular_trips)\r\n            }\r\n            variant=\"outlined\"\r\n            onClick={() =>\r\n              setUriData({\r\n                from: \"\",\r\n                to: \"\",\r\n                date: \"\",\r\n                regular: false,\r\n                pass: false,\r\n                pets: false,\r\n              })\r\n            }\r\n            style={{ marginLeft: \"10px\", marginBottom: \"10px\" }}\r\n          >\r\n            {i18n.t(\"Clear\")}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/upward-arrow.69b9d9b5.png\";","export default __webpack_public_path__ + \"static/media/schedule.08574752.png\";","export default __webpack_public_path__ + \"static/media/pets-allowed.479e6cfe.png\";","export default __webpack_public_path__ + \"static/media/parcel.d14e8b3d.png\";","export default __webpack_public_path__ + \"static/media/pets-allowed-bw.2d0569b1.png\";","export default __webpack_public_path__ + \"static/media/parcel-bw.65ec7192.png\";","export default __webpack_public_path__ + \"static/media/wallet.32eb69be.png\";","export default __webpack_public_path__ + \"static/media/duration.3686aed8.png\";","type Month = {\r\n  number: number;\r\n  name: string;\r\n  short: string;\r\n};\r\n\r\nexport const monthsRus: Month[] = [\r\n  {\r\n    number: 1,\r\n    name: \"Январь\",\r\n    short: \"Янв\",\r\n  },\r\n  {\r\n    number: 2,\r\n    name: \"Февраль\",\r\n    short: \"Фев\",\r\n  },\r\n  {\r\n    number: 3,\r\n    name: \"Март\",\r\n    short: \"Мар\",\r\n  },\r\n  {\r\n    number: 4,\r\n    name: \"Апрель\",\r\n    short: \"Апр\",\r\n  },\r\n  {\r\n    number: 5,\r\n    name: \"Май\",\r\n    short: \"Май\",\r\n  },\r\n  {\r\n    number: 6,\r\n    name: \"Июнь\",\r\n    short: \"Июн\",\r\n  },\r\n  {\r\n    number: 7,\r\n    name: \"Июль\",\r\n    short: \"Июл\",\r\n  },\r\n  {\r\n    number: 8,\r\n    name: \"Август\",\r\n    short: \"Авг\",\r\n  },\r\n  {\r\n    number: 9,\r\n    name: \"Сентябрь\",\r\n    short: \"Сен\",\r\n  },\r\n  {\r\n    number: 10,\r\n    name: \"Октябрь\",\r\n    short: \"Окт\",\r\n  },\r\n  {\r\n    number: 11,\r\n    name: \"Ноябрь\",\r\n    short: \"Ноя\",\r\n  },\r\n  {\r\n    number: 12,\r\n    name: \"Декабрь\",\r\n    short: \"Дек\",\r\n  },\r\n];\r\n\r\nexport const monthsEng: Month[] = [\r\n  {\r\n    number: 1,\r\n    name: \"January\",\r\n    short: \"Jan\",\r\n  },\r\n  {\r\n    number: 2,\r\n    name: \"February\",\r\n    short: \"Feb\",\r\n  },\r\n  {\r\n    number: 3,\r\n    name: \"March\",\r\n    short: \"Mar\",\r\n  },\r\n  {\r\n    number: 4,\r\n    name: \"April\",\r\n    short: \"Apr\",\r\n  },\r\n  {\r\n    number: 5,\r\n    name: \"May\",\r\n    short: \"May\",\r\n  },\r\n  {\r\n    number: 6,\r\n    name: \"June\",\r\n    short: \"Jun\",\r\n  },\r\n  {\r\n    number: 7,\r\n    name: \"July\",\r\n    short: \"Jul\",\r\n  },\r\n  {\r\n    number: 8,\r\n    name: \"August\",\r\n    short: \"Aug\",\r\n  },\r\n  {\r\n    number: 9,\r\n    name: \"September\",\r\n    short: \"Sep\",\r\n  },\r\n  {\r\n    number: 10,\r\n    name: \"October\",\r\n    short: \"Oct\",\r\n  },\r\n  {\r\n    number: 11,\r\n    name: \"November\",\r\n    short: \"Nov\",\r\n  },\r\n  {\r\n    number: 12,\r\n    name: \"December\",\r\n    short: \"Dec\",\r\n  },\r\n];\r\n\r\nexport const months_ru: string[] = [\r\n  \"Янв.\",\r\n  \"Фев.\",\r\n  \"Мар.\",\r\n  \"Апр.\",\r\n  \"Май.\",\r\n  \"Июн.\",\r\n  \"Июл.\",\r\n  \"Авг.\",\r\n  \"Сен.\",\r\n  \"Окт.\",\r\n  \"Ноя.\",\r\n  \"Дек.\",\r\n];\r\n\r\nexport const months_en: string[] = [\r\n  \"Jan.\",\r\n  \"Feb.\",\r\n  \"Mar.\",\r\n  \"Apr.\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"Aug.\",\r\n  \"Sept.\",\r\n  \"Oct.\",\r\n  \"Nov.\",\r\n  \"Dec.\",\r\n];\r\n","import { currencies } from \"./currencies\";\r\n\r\ntype Currency = {\r\n  name: string;\r\n  code: string;\r\n  oneEuroRate: number;\r\n  r2rSymbol: string;\r\n};\r\n\r\nexport const getByCode = (code: string): Currency | undefined => {\r\n  return currencies.find((c) => c.code === code);\r\n};\r\n\r\nexport const getSymbolByCode = (code: string): string | undefined => {\r\n  const value = getByCode(code);\r\n  return value ? value.r2rSymbol : undefined;\r\n};\r\n\r\nexport const convertToGlobal = (count: number, currency: string): number => {\r\n  const value = getByCode(currency);\r\n  return value ? count / value.oneEuroRate : -1;\r\n};\r\n\r\nexport const convert = (count: number, fromCurrency: string, toCurrency: string): number => {\r\n  const to = getByCode(toCurrency);\r\n  return to ? convertToGlobal(count, fromCurrency) * to.oneEuroRate : -1;\r\n};\r\n\r\nexport const convertToFixed = (count: number, fromCurrency: string, toCurrency: string): number => {\r\n  return toFixed(convert(count, fromCurrency, toCurrency));\r\n};\r\n\r\nexport const toFixed = (count: number): number => {\r\n  return Math.round(count * 100) / 100;\r\n};\r\n\r\nexport const review = (count: number, currency: string): string => {\r\n  return currency === \"USD\"\r\n    ? `${getSymbolByCode(currency)}${count}`\r\n    : `${count} ${getSymbolByCode(currency)}`;\r\n};\r\n","import classes from \"./Icon.module.css\";\r\n\r\nconst IconComponent = ({ icon, someClass }) => {\r\n  return <img src={icon} className={someClass ? someClass : classes.icon} alt=\"icon\" />;\r\n};\r\n\r\nexport default IconComponent;\r\n","import classes from \"./Text.module.css\";\r\n\r\nconst TextComponent = ({ text }) => {\r\n  return <span className={classes.text}>{text}</span>;\r\n};\r\n\r\nexport default TextComponent;\r\n","import IconComponent from \"../Icon/IconComponent\";\r\nimport TextComponent from \"../Text/TextComponent\";\r\nimport classes from \"./IconText.module.css\";\r\n\r\nconst IconTextComponent = ({ icon, text }) => {\r\n  return (\r\n    <div className={classes.icon_text}>\r\n      <IconComponent icon={icon} />\r\n      <TextComponent text={text} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IconTextComponent;\r\n","import classes from \"./TripCard.module.css\";\r\nimport i18n from \"i18next\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCityById } from \"../../../utils/cities-util\";\r\nimport { getCurrency, getLanguage } from \"../../../redux/selectors\";\r\nimport { Button, Divider } from \"@material-ui/core\";\r\nimport ArrowIcon from \"../../../assets/upward-arrow.png\";\r\nimport ScheduleIcon from \"../../../assets/schedule.png\";\r\nimport PetsAllowedIcon from \"../../../assets/pets-allowed.png\";\r\nimport ParcelIcon from \"../../../assets/parcel.png\";\r\nimport PetsAllowedBWIcon from \"../../../assets/pets-allowed-bw.png\";\r\nimport ParcelBWIcon from \"../../../assets/parcel-bw.png\";\r\nimport WalletIcon from \"../../../assets/wallet.png\";\r\nimport DurationIcon from \"../../../assets/duration.png\";\r\nimport { monthsEng } from \"../../../utils/months-util\";\r\nimport { TRANSFERS_PATH } from \"../../../utils/constants\";\r\nimport { convertToFixed, review } from \"../../../utils/currency-util\";\r\nimport IconTextComponent from \"../IconText/IconTextComponent\";\r\nimport IconComponent from \"../Icon/IconComponent\";\r\nimport TextComponent from \"../Text/TextComponent\";\r\n\r\nexport default function TripCardComponent({ transfer }) {\r\n  const currency = useSelector(getCurrency);\r\n  const history = useHistory();\r\n  const from = getCityById(transfer.from);\r\n  const to = getCityById(transfer.to);\r\n  const lang = useSelector(getLanguage);\r\n  const convertedPrice = convertToFixed(transfer.price, transfer.currency, currency);\r\n  const priceToDisplay = review(convertedPrice, currency);\r\n\r\n  function dateView() {\r\n    const date = new Date(transfer.date);\r\n    return `${monthsEng[date.getMonth()].name} ${date.getDate()}, ${date.getFullYear()}`;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.trip_card}>\r\n      <div className={classes.trip_card_header}>\r\n        <div className={classes.way}>\r\n          <TextComponent text={lang === \"en\" ? from.name : from.name_ru} />\r\n          <IconComponent icon={ArrowIcon} someClass={classes.arrow_icon} />\r\n          <TextComponent text={lang === \"en\" ? to.name : to.name_ru} />\r\n        </div>\r\n      </div>\r\n      <div className={classes.content}>\r\n        {!transfer.regularTrips ? (\r\n          <IconTextComponent icon={ScheduleIcon} text={dateView()} />\r\n        ) : (\r\n          <IconTextComponent icon={ScheduleIcon} text={i18n.t(\"Regular trips\")} />\r\n        )}\r\n        <IconTextComponent icon={DurationIcon} text={transfer.duration ? transfer.duration : \"--:--\"} />\r\n        <IconTextComponent icon={WalletIcon} text={priceToDisplay} />\r\n        <div className={classes.icons_block}>\r\n          <IconComponent icon={transfer.passAParcel ? ParcelIcon : ParcelBWIcon} />\r\n          <IconComponent icon={transfer.isPetsAllowed ? PetsAllowedIcon : PetsAllowedBWIcon} />\r\n        </div>\r\n      </div>\r\n      <Divider variant=\"middle\" style={{ marginBottom: \"10px\" }} />\r\n      <div className={classes.trip_card_footer}>\r\n        <Button\r\n          size=\"medium\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          onClick={() => history.push(`${TRANSFERS_PATH}/${transfer._id}`)}\r\n          style={{ marginRight: \"0\", marginLeft: \"auto\" }}\r\n        >\r\n          {i18n.t(\"More\")}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ArrowForwardSharpIcon from \"@material-ui/icons/ArrowForwardSharp\";\r\nimport RingVolumeIcon from \"@material-ui/icons/RingVolume\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport \"./Transfer.css\";\r\nimport i18n from \"../../i18n\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { currencies } from \"../../utils/currencies\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport cities from \"../../utils/cities.json\";\r\nimport { timeZones } from \"../../utils/timezones\";\r\n\r\nexport default function Transfer({ transfer }) {\r\n  const globalCurrencyCode = useSelector((state) => state.app.currency);\r\n  const lang = useSelector((state) => state.app.lang);\r\n  const cityFrom = cities.find((city) => city.ID === transfer.from);\r\n  // console.log('cityFrom: ', cityFrom, cityFrom?.name_ru)\r\n  const cityTo = cities.find((city) => city.ID === transfer.to);\r\n  let priceNum;\r\n  let priceToDisplay;\r\n\r\n  // check if currency selected in app (globalCurrency)\r\n  const globalCurrency = currencies.find((cur) => cur.code === globalCurrencyCode);\r\n  const transferCurrency =\r\n    currencies.find((cur) => cur.code === transfer.currency) || currencies.find((cur) => cur.code === \"EUR\");\r\n\r\n  // console.log(\"depTime = \", transfer.departureTime);\r\n  // console.log(\"transfer.timeZone = \", transfer.timeZone);\r\n  //const timeZoneName = timeZones.find(tz => tz.shift === transfer.timeZone)?.name\r\n  const timeZoneName = \"GMT+\" + transfer.timeZone + \" \" + i18n.t(\"timezone.\" + transfer.timeZone);\r\n\r\n  const departureTimeSplit = transfer.departureTime.split(\":\");\r\n\r\n  if (currencies.map((cur) => cur.code).includes(transfer.currency)) {\r\n    // IF transfer.currency IS IN THE currencies ARRAY\r\n\r\n    if (transfer.currency === globalCurrencyCode) {\r\n      // NO NEED TO RECALCULATE IF CURRENCIES ARE EQUAL\r\n      priceNum = transfer.price;\r\n    } else {\r\n      priceNum =\r\n        Math.round(\r\n          ((transfer.price * globalCurrency.oneEuroRate) / transferCurrency.oneEuroRate + Number.EPSILON) *\r\n            100\r\n        ) / 100;\r\n    }\r\n  } else {\r\n    // IF transfer.currency IS not IN THE currencies ARRAY, ASSUME IT IS EURO\r\n    if (globalCurrencyCode === \"EUR\") {\r\n      priceNum = transfer.price;\r\n    } else {\r\n      priceNum = Math.round((transfer.price * globalCurrency.oneEuroRate + Number.EPSILON) * 100) / 100;\r\n    }\r\n  }\r\n\r\n  if (globalCurrencyCode === \"USD\") {\r\n    priceToDisplay = globalCurrency.r2rSymbol + priceNum;\r\n  } else {\r\n    priceToDisplay = priceNum + \" \" + globalCurrency.r2rSymbol;\r\n  }\r\n\r\n  // console.log(\"transfer.regularTripsDays: \", transfer.regularTripsDays);\r\n\r\n  // add new variables - dispatchTime arrivalTime\r\n  return (\r\n    <div className=\"transfer\">\r\n      <Accordion>\r\n        <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n          <Grid container spacing={2}>\r\n            <Grid container item xs={12} alignItems=\"center\" justifyContent=\"flex-start\">\r\n              <Paper className={\"paper\"}>\r\n                {cityFrom && (cityFrom[\"name\" + (lang === \"ru\" ? \"_ru\" : \"\")] || \"---\")}\r\n                <ArrowForwardSharpIcon style={{ marginBottom: \"-6px\" }} />\r\n                {cityTo && (cityTo[\"name\" + (lang === \"ru\" ? \"_ru\" : \"\")] || \"---\")}\r\n              </Paper>\r\n            </Grid>\r\n            <Grid container item xs={12} alignItems=\"stretch\" justifyContent=\"flex-start\">\r\n              <Tooltip\r\n                title={\"Price in carrier's currency: \" + transfer.price + \" \" + transfer.currency}\r\n                placement=\"top\"\r\n                arrow\r\n              >\r\n                <Button color=\"primary\" variant=\"contained\" className={\"paper\"}>\r\n                  {/* {i18n.t(\"Price\")}: */}\r\n                  {priceToDisplay}\r\n                </Button>\r\n              </Tooltip>\r\n            </Grid>\r\n\r\n            {transfer.regularTrips ? (\r\n              i18n.t(\"Regular trips\")\r\n            ) : (\r\n              <Grid container item direction={\"column\"} xs={12}>\r\n                <Grid\r\n                  container\r\n                  item\r\n                  // sm={5}\r\n                  xs={7}\r\n                  // alignItems=\"stretch\"\r\n                  justifyContent=\"flex-start\"\r\n                >\r\n                  <Button>\r\n                    {/* {i18n.t(\"Duration of ride\")}:*/} {transfer.date}\r\n                  </Button>\r\n                </Grid>\r\n                <Grid\r\n                  container\r\n                  item\r\n                  // sm={4}\r\n                  xs={4}\r\n                  // alignItems=\"stretch\"\r\n                  justifyContent=\"flex-end\"\r\n                >\r\n                  <Button>\r\n                    {transfer.timeZone\r\n                      ? +departureTimeSplit[0] + +transfer.timeZone + \":\" + departureTimeSplit[1]\r\n                      : transfer.departureTime}{\" \"}\r\n                    {/* {timeZoneName ? \"(\" + timeZoneName + \")\" : \"\"} */}\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <hr />\r\n          <Grid container spacing={2} justifyContent=\"space-around\">\r\n            {!transfer.regularTrips && (\r\n              <Grid container item xs={12} alignItems=\"center\" justifyContent=\"flex-start\">\r\n                <Paper className={\"paper\"}>\r\n                  {i18n.t(\"Date of travel\")}: {/*{transfer.date.replace(\"T\", \"  \")}*/}\r\n                  {transfer.date.slice(0, 10)}\r\n                </Paper>\r\n              </Grid>\r\n            )}\r\n\r\n            {transfer.regularTrips && (\r\n              <>\r\n                <Grid container item xs={12} alignItems=\"center\" justifyContent=\"flex-start\">\r\n                  <Paper className={\"paper\"}>\r\n                    {/*<div style={{margin: \"8px\", minWidth: \"190px\", textAlign: \"center\"}}>*/}\r\n                    {/*  {i18n.t(\"Regular trips\")}*/}\r\n                    {/*</div>*/}\r\n                    <div style={{ margin: \"8px\", minWidth: \"190px\", textAlign: \"center\" }}>\r\n                      {/*{i18n.t(\"Regular trips\")}*/}\r\n                    </div>\r\n                    <Grid container direction={\"column\"} xs={12} style={{ margin: \"4px\" }}>\r\n                      {Object.keys(transfer.regularTripsDays)\r\n                        .sort()\r\n                        .map((weekDay) => {\r\n                          // console.log(\"weekDay: \", weekDay, transfer.regularTripsDays[weekDay]);\r\n                          const departTime = transfer.regularTripsDays[weekDay].departureTime;\r\n                          return transfer.regularTripsDays[weekDay].selected ? (\r\n                            <>\r\n                              <Grid container item justifyContent={\"space-between\"}>\r\n                                <Grid xs={7}>{i18n.t(weekDay)} </Grid>\r\n                                <Grid xs={3}>{departTime ? departTime : \"-- : --\"}</Grid>\r\n                              </Grid>\r\n                              {/*<WeekDayIcon*/}\r\n                              {/*  name={weekDay}*/}\r\n                              {/*  value={transfer.regularTripsDays[weekDay]}*/}\r\n                              {/*/>*/}\r\n                            </>\r\n                          ) : null;\r\n                        })}\r\n                    </Grid>\r\n                  </Paper>\r\n                </Grid>\r\n              </>\r\n            )}\r\n\r\n            {transfer.duration && (\r\n              <Grid container item xs={12} alignItems=\"center\" justifyContent=\"flex-start\">\r\n                <Paper className={\"paper\"}>\r\n                  {i18n.t(\"Duration of ride\")}: {/*{transfer.date.replace(\"T\", \"  \")}*/}\r\n                  {transfer.duration}\r\n                </Paper>\r\n              </Grid>\r\n            )}\r\n\r\n            <Grid container item xs={12} alignItems=\"center\" justifyContent=\"flex-start\">\r\n              <Paper className={\"paper\"}>\r\n                {i18n.t(\"Driver's phone number\")}: {transfer.phoneNumber} <RingVolumeIcon fontSize=\"small\" />\r\n              </Paper>\r\n            </Grid>\r\n            <Grid container item xs={12} justifyContent=\"flex-start\" alignItems=\"center\">\r\n              {/* <Paper className={\"paper\"}>\r\n                {i18n.t(\"Places\")}: {transfer.places}\r\n                <AirlineSeatReclineNormalIcon fontSize=\"small\"/>\r\n              </Paper> */}\r\n\r\n              <Paper className={\"paper\"}>\r\n                {i18n.t(\"A parcel delivery\")}: {transfer.passAParcel ? i18n.t(\"Yes\") : i18n.t(\"No\")}\r\n              </Paper>\r\n            </Grid>\r\n\r\n            <Grid container item xs={12} justifyContent=\"flex-start\" alignItems=\"center\">\r\n              <Paper className={\"paper\"}>\r\n                {i18n.t(\"PetsAllowed\")}: {transfer.isPetsAllowed ? i18n.t(\"Yes\") : i18n.t(\"No\")}\r\n              </Paper>\r\n            </Grid>\r\n\r\n            {transfer.driversComment && (\r\n              <Grid container item xs={12} justifyContent=\"flex-start\" alignItems=\"center\">\r\n                <Paper className={\"paper\"}>\r\n                  <div>{i18n.t(\"Driver's comment\")}:</div>\r\n                  <div\r\n                    style={{\r\n                      textOverflow: \"ellipsis\",\r\n                      wordBreak: \"break-all\",\r\n                    }}\r\n                  >\r\n                    {transfer.driversComment}{\" \"}\r\n                  </div>\r\n                </Paper>\r\n              </Grid>\r\n            )}\r\n\r\n            {transfer.additionalInfo && (\r\n              <Grid container item xs={12} justifyContent=\"flex-start\" alignItems=\"center\">\r\n                <Paper className={\"paper\"}>\r\n                  <span style={{ paddingRight: \"5px\" }}>{i18n.t(\"Additional information\")}:</span>\r\n                  {transfer.additionalInfo}\r\n                </Paper>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      {/* <Grid item xs={2}>\r\n              <IconButton onClick={() =>\r\n                history.push(\r\n                  {\r\n                    pathname: '/transfer',\r\n                    transfer: transfer,\r\n                  }\r\n                )\r\n              }>\r\n                <NearMeIcon fontSize=\"large\"/>\r\n              </IconButton>\r\n            </Grid> */}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Transfer from \"../Transfer/Transfer\";\r\n\r\nfunction TransferPage(props) {\r\n    // console.log(props)\r\n    const transfer = props.location.transfer;\r\n    return (\r\n        // used a Transfer component as a PLACEHOLDER\r\n        <Transfer transfer={transfer} />\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default TransferPage;","import React from 'react'\r\nimport './SocialButtons.css'\r\nimport { FaWhatsapp, FaPhoneAlt, FaTelegramPlane, FaViber} from 'react-icons/fa'\r\n// import FacebookMessenger from './facebookmessenger.svg'\r\n\r\n\r\nexport default function SocialButtons() {\r\n    return (\r\n        <div className='social-wrapper'>\r\n\r\n            <a href='https://wa.me/972545779239' class=\"social-button whats-but\" rel=\"noreferrer\" target='_blank'><FaWhatsapp className='whatsapp' /></a>\r\n            \r\n\r\n            <a href=\"https://telegram.me/rmant7\" class=\"social-button teleg-but\" rel=\"noreferrer\" target='_blank'><FaTelegramPlane className='telegram' /></a>\r\n\r\n            <a href='tel:+972545779239' class=\"social-button phone-but\"><FaPhoneAlt className='phone' /></a>\r\n\r\n\r\n            {/* <a href=\"https://www.messenger.com/t/rmant7\" rel=\"noreferrer\" target='_blank'><img src={FacebookMessenger} className='facebook' alt='facebook messenger icon' /></a> */}\r\n{/* \r\n            <a href=\"viber://chat?number=+972545779239\" rel=\"noreferrer\" target='_blank'><FaViber className='viber' /></a> */}\r\n\r\n            <a href=\"viber://add?number=972545779239\" class=\"social-button viber-but\" ><FaViber className='viber-mb' /></a>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import classes from \"./Contacts.module.css\";\r\nimport { ROMAN_EMAIL, ROMAN_PHONE_NUMBER } from \"../../../utils/constants\";\r\nimport i18n from \"../../../i18n\";\r\nimport SocialButtons from \"../../SocialButtons/SocialButtons\";\r\n\r\nconst ContactsComponent = () => {\r\n  return (\r\n    <div className={classes.contacts}>\r\n      <span className={classes.contacts_text}>{i18n.t(\"Contacts\")}:</span>\r\n      <span className={classes.contacts_text}>{i18n.t(\"Name\")}</span>\r\n      <span className={classes.contacts_text}>{i18n.t(\"Founder and Ceo\")}</span>\r\n      <span className={classes.contacts_text}>{ROMAN_PHONE_NUMBER}</span>\r\n      <a href=\"mailto:roman.mantelmakher@gmail.com\" rel=\"noreferrer\" target=\"_blank\">\r\n        {ROMAN_EMAIL}\r\n      </a>\r\n      <SocialButtons />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactsComponent;\r\n","import React from 'react';\r\n// import { useStyles } from '../utils/useStyles';\r\nimport { Grid,  Typography } from \"@material-ui/core\";\r\nimport SocialButtons from '../components/SocialButtons/SocialButtons';\r\nimport i18n from \"../i18n\";\r\n\r\nconst Contacts = () => {\r\n  // const classes = useStyles();\r\n  return (\r\n    <div>\r\n    <Grid\r\n      container\r\n      spacing={3}\r\n      direction=\"column\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"center\"\r\n      style={{ minHeight: \"80vh\", padding: \"0\" }}\r\n    >\r\n      <Grid item xs={12}>\r\n          <Typography variant=\"h5\">\r\n            {i18n.t(\"Contacts\")}:\r\n          </Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Typography variant=\"h5\" display=\"block\" gutterBottom>\r\n        {i18n.t(\"Name\")}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Typography variant=\"h5\" display=\"block\" gutterBottom>\r\n        {i18n.t(\"Founder and Ceo\")} \r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Typography variant=\"h5\"display=\"block\" gutterBottom>\r\n          +972545779239\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Typography variant=\"h5\"display=\"block\" gutterBottom>\r\n          <a href=\"mailto:roman.mantelmakher@gmail.com\" rel=\"noreferrer\" target='_blank'>roman.mantelmakher@gmail.com</a>\r\n        </Typography>\r\n      </Grid>\r\n            {/* <h3>\r\n              You can chat or call me\r\n        </h3>\r\n        <h3>\r\n              Click one of the buttons below\r\n            </h3> */}\r\n      </Grid>\r\n \r\n      <SocialButtons />\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","import { MainPage, PassengerPage, BusPage, CarrierPage, TransferPage } from \"../components\";\r\nimport ContactsComponent from \"../components/future/Contact/ContactsComponent\";\r\nimport FiltersComponent from \"../components/future/Filters/FiltersComponent\";\r\nimport TripViewComponent from \"../components/future/TripView/TripViewComponent\";\r\nimport { Contacts } from \"../pages\";\r\nimport {\r\n  TRANSFERS_ADD_TRANSFER_PATH,\r\n  BUS_PATH,\r\n  CONTACTS_PATH,\r\n  MAIN_PATH,\r\n  TRANSFERS_PATH,\r\n  TRANSFERS_SEARCH_PATH,\r\n} from \"../utils/constants\";\r\n\r\nexport const publicRoutes = [\r\n  {\r\n    path: MAIN_PATH,\r\n    Component: MainPage,\r\n  },\r\n  {\r\n    path: TRANSFERS_SEARCH_PATH,\r\n    Component: FiltersComponent,\r\n  },\r\n  {\r\n    path: TRANSFERS_ADD_TRANSFER_PATH,\r\n    Component: CarrierPage,\r\n  },\r\n  {\r\n    path: TRANSFERS_PATH,\r\n    Component: PassengerPage,\r\n  },\r\n  {\r\n    path: `${TRANSFERS_PATH}/:id`,\r\n    Component: TripViewComponent,\r\n  },\r\n  {\r\n    path: BUS_PATH,\r\n    Component: BusPage,\r\n  },\r\n  // {\r\n  //   path: TRANSFER_PATH,\r\n  //   // Component: TransferPage,\r\n  //   Component: TripViewComponent,\r\n  // },\r\n  {\r\n    path: CONTACTS_PATH,\r\n    Component:\r\n      process.env.REACT_APP_NEW_DESIGN && process.env.REACT_APP_NEW_DESIGN === \"false\"\r\n        ? Contacts\r\n        : ContactsComponent,\r\n  },\r\n];\r\n","import i18n from \"../../i18n\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button, Grid, Container, Typography } from \"@material-ui/core\";\r\nimport { useStyles } from \"../../utils/useStyles\";\r\nimport Cheaptrip from \"../../components/CheaptripCommercial/Cheaptrip\";\r\nimport { TRANSFERS_ADD_TRANSFER_PATH, TRANSFERS_PATH } from \"../../utils/constants\";\r\n\r\nexport default function MainPage() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  return (\r\n    <Container maxWidth=\"xl\">\r\n      <Grid\r\n        container\r\n        spacing={3}\r\n        direction=\"column\"\r\n        alignItems=\"center\"\r\n        justify=\"center\"\r\n        className={(classes.mainPage, classes.topPadding)}\r\n      >\r\n        <Grid item xs={12} lg={4} md={6}>\r\n          <Button\r\n            className={classes.mainPage__btn}\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={() => history.push(TRANSFERS_PATH)}\r\n          >\r\n            {i18n.t(\"I'm a passenger\")}\r\n          </Button>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} lg={4} md={6}>\r\n          <Button\r\n            className={classes.mainPage__btn}\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={() => history.push(TRANSFERS_ADD_TRANSFER_PATH)}\r\n          >\r\n            {i18n.t(\"I'm a driver\")}\r\n          </Button>\r\n        </Grid>\r\n        <Grid item xs={12} lg={4} md={6}>\r\n          <Typography style={{ paddingTop: \"2rem\" }} align=\"center\" gutterBottom>\r\n            {i18n.t(\"Our partners\")}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Button\r\n            className={classes.mainPage__btn}\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            href=\"https://cheaptrip.guru/\"\r\n            target=\"_blank\"\r\n          >\r\n            CheapTrip\r\n          </Button>\r\n        </Grid>\r\n        <Grid item xs={10} lg={6} md={6}>\r\n          <Typography variant=\"h5\" align=\"center\" component=\"p\" className={classes.ctDescription}>\r\n            {i18n.t(\"CheapTrip commercial\")}\r\n          </Typography>\r\n        </Grid>\r\n        {/* <Cheaptrip /> */}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","import { Container } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getNextTransfersAction } from \"../../redux/actions/transfers-actions\";\r\nimport { getFilters, getLoading, getTransfers } from \"../../redux/selectors\";\r\nimport classes from \"./PassengerPage.module.css\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport i18n from \"../../i18n\";\r\nimport FiltersComponent from \"../future/Filters/FiltersComponent\";\r\nimport { Box } from \"@mui/system\";\r\nimport { Alert, LinearProgress } from \"@mui/material\";\r\nimport TripCardComponent from \"../future/TripCard/TripCardComponent\";\r\nimport Transfer from \"../Transfer/Transfer\";\r\n// import \"./PassengerPage.css\";\r\n\r\nfunction isNewDesign() {\r\n  return process.env.REACT_APP_NEW_DESIGN && process.env.REACT_APP_NEW_DESIGN === \"true\";\r\n}\r\n\r\nexport default function PassengerPage() {\r\n  const dispatch = useDispatch();\r\n  // const [transfers, setTransfers] = useState([]);\r\n  // const [loading, setLoading] = useState();\r\n  const transfers = useSelector(getTransfers);\r\n  const filters = useSelector(getFilters);\r\n  const loading = useSelector(getLoading);\r\n\r\n  const addNextHandler = () => {\r\n    dispatch(getNextTransfersAction(transfers.data));\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"xl\" className={classes.tb_padding}>\r\n      <FiltersComponent />\r\n      {/* <div style={{ textAlign: \"center\", marginTop: \"10px\" }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            history.push(`${TRIPS_SEARCH_PATH}`);\r\n          }}\r\n        >\r\n          {i18n.t(\"Filters\")}\r\n        </Button>\r\n      </div> */}\r\n      {/* <Divider style={{margin: \"10px\"}}/> */}\r\n      {/* {loading && <h2>Loading...</h2>} */}\r\n      {/* {!loading && <TransfersList transfers={transfers} />} */}\r\n      <div className={classes.transfers}>\r\n        {loading.isLoadingTransfers ? (\r\n          <Box sx={{ width: \"100%\" }}>\r\n            <LinearProgress />\r\n          </Box>\r\n        ) : // <TransfersList transfers={data.transfers} />\r\n        isNewDesign() ? (\r\n          transfers.data.map((transfer, i) => <TripCardComponent key={i} transfer={transfer} />)\r\n        ) : (\r\n          transfers.data.map((transfer, i) => <Transfer key={i} transfer={transfer} />)\r\n        )}\r\n        {transfers.data.length === 0 && filters.isFilterApply && (\r\n          <Alert severity=\"warning\">{i18n.t(\"NothingFound\")}</Alert>\r\n        )}\r\n        {transfers.msg && <Alert severity=\"error\">{transfers.msg}</Alert>}\r\n      </div>\r\n      <div style={{ width: \"200px\", margin: \"10px auto\", textAlign: \"center\" }}>\r\n        {transfers.data.length !== 0 && transfers.isNext && !filters.isFilterApply && (\r\n          <LoadingButton\r\n            variant=\"contained\"\r\n            loading={loading.isLoadingNextTransfers}\r\n            onClick={addNextHandler}\r\n          >\r\n            {i18n.t(\"LoadMore\")}\r\n          </LoadingButton>\r\n        )}\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import { LinearProgress } from \"@material-ui/core\";\r\nimport { Box } from \"@mui/system\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport { getTransferAction } from \"../../../redux/actions/transfer-actions\";\r\nimport { getLoading, getTransfer } from \"../../../redux/selectors\";\r\nimport { getCityById } from \"../../../utils/cities-util\";\r\n\r\nexport default function TripViewComponent() {\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n  const transfer = useSelector(getTransfer);\r\n  const loading = useSelector(getLoading);\r\n\r\n  useEffect(() => {\r\n    dispatch(getTransferAction(id));\r\n  }, [dispatch, id]);\r\n\r\n  console.log(id);\r\n  console.log(loading);\r\n  console.log(transfer);\r\n\r\n  return (\r\n    <div style={{ margin: \"100px auto\", width: \"95%\" }}>\r\n      {loading.isLoadingTransfer ? (\r\n        <Box sx={{ width: \"100%\" }}>\r\n          <LinearProgress />\r\n        </Box>\r\n      ) : transfer.isReceived && transfer.data ? (\r\n        <div>\r\n          <p>From City: {getCityById(transfer.data.from).name}</p>\r\n          <p>To City: {getCityById(transfer.data.to).name}</p>\r\n          <p>Date: {transfer.data.date}</p>\r\n          <p>Departure time: {transfer.data.departureTime}</p>\r\n          <p>Duration: {transfer.data.duration}</p>\r\n          <p>isPetsAllowed: {transfer.data.isPetsAllowed}</p>\r\n          <p>passAParcel: {transfer.data.passAParcel}</p>\r\n          <p>phoneNumber: {transfer.data.phoneNumber}</p>\r\n          <p>\r\n            price: {transfer.data.price} {transfer.data.currency}\r\n          </p>\r\n          <p>regularTrips: {transfer.data.regularTrips}</p>\r\n          <p>Additional info: {transfer.data.additionalInfo}</p>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","export default function BusPage(){\r\n return <div className=\"BusPage\">\r\n   <form>\r\n     <div className=\"inputsHolder\">\r\n       <input type=\"text\" placeholder=\"from\" />\r\n       <input type=\"text\" placeholder=\"to\" />\r\n       <input type=\"text\" placeholder=\"type e-mail\"/>\r\n       <input type=\"text\" placeholder=\"type price\"/>\r\n       <input type=\"text\" placeholder=\"\"/>\r\n     </div>\r\n\r\n   </form>\r\n </div>\r\n\r\n}","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { publicRoutes } from '../../routes/publicRoutes';\r\nimport { MAIN_PATH } from '../../utils/constants';\r\n\r\nconst AppRouter = () => {\r\n  return (\r\n    <Switch>\r\n      {publicRoutes.map(({ path, Component }) => (\r\n        <Route key={path} path={path} component={Component} exact />\r\n      ))}\r\n      <Redirect to={MAIN_PATH} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","export default __webpack_public_path__ + \"static/media/ru.ef3e7f83.svg\";","import ru from '../assets/ru.svg';\r\nimport en from '../assets/en.svg';\r\nimport ua from '../assets/ua.svg';\r\n\r\nexport const languages = [\r\n  { locale: 'en', label: 'English', icon: en },\r\n  { locale: 'ru', label: 'Русский', icon: ru },\r\n  { locale: 'ua', label: 'Українська', icon: ua },\r\n];\r\n","export default __webpack_public_path__ + \"static/media/en.fabdd537.svg\";","export default __webpack_public_path__ + \"static/media/ua.78bf81ad.svg\";","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FormControl, Select, MenuItem } from '@material-ui/core';\r\nimport { useStyles } from '../../utils/useStyles';\r\nimport { languages } from '../../utils/languages';\r\nimport {useTranslation} from \"react-i18next\";\r\nimport { getLanguage } from '../../redux/selectors';\r\nimport { setLanguageAction } from '../../redux/actions/app-actions';\r\n\r\n\r\n\r\nconst LanguageSelector = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const lang = useSelector(getLanguage);\r\n\r\n  const { i18n } = useTranslation();\r\n  const changeLanguage = (language) => {\r\n    i18n\r\n      .changeLanguage(language)\r\n      .then()\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  return (\r\n    <FormControl>\r\n      <Select\r\n        className={classes.whiteSelect}\r\n        inputProps={{\r\n          classes: {\r\n            icon: classes.icon,\r\n          },\r\n        }}\r\n        value={lang}\r\n        renderValue={value => `${value.toUpperCase()}`}\r\n        disableUnderline\r\n      >\r\n        {languages.map(lng => {\r\n          return (\r\n            <MenuItem\r\n              key={lng.locale}\r\n              onClick={() => {\r\n                localStorage.setItem(\"locale\", lng.locale);\r\n                changeLanguage(lng.locale);\r\n                dispatch(setLanguageAction(lng.locale));\r\n              }}\r\n            >\r\n              <img className={classes.flag} src={lng.icon} alt={lng.label} />\r\n              {lng.label}\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default LanguageSelector;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n// import './App.css';\r\nimport { AppRouter, Navbar } from './components';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {theme, useStyles} from './utils/useStyles';\r\nimport {StylesProvider} from \"@material-ui/core\";\r\nfunction App() {\r\n  const { i18n } = useTranslation();\r\n  const changeLanguage = (language) =>  {\r\n    i18n\r\n      .changeLanguage(language)\r\n      .then()\r\n      .catch((err) => console.error(err));\r\n  };\r\n  i18n.reloadResources().then();\r\n  const lang = useSelector((state) => state.app.lang);\r\n  useEffect(() => {\r\n    changeLanguage(lang);\r\n  }, [lang]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  console.log('process.env.REACT_APP_BUILD_MODE = ', process.env.REACT_APP_BUILD_MODE)\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <StylesProvider>\r\n        <Navbar/>\r\n        <AppRouter/>\r\n      </StylesProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\nimport './index.css';\r\nimport 'typeface-roboto';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Box, LinearProgress } from '@material-ui/core';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        {/* <Suspense fallback={<div>loading...</div>}> */}\r\n        <Suspense fallback={\r\n          <Box sx={{ width: \"100%\" }}>\r\n            <LinearProgress />\r\n          </Box>\r\n        }>\r\n          <App />\r\n        </Suspense>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trip_card\":\"TripCard_trip_card__3x1bo\",\"trip_card_header\":\"TripCard_trip_card_header__3aYEg\",\"trip_card_footer\":\"TripCard_trip_card_footer__1XGAH\",\"content\":\"TripCard_content__24Uhz\",\"way\":\"TripCard_way__BssgH\",\"icons_block\":\"TripCard_icons_block__KsXvz\",\"arrow_icon\":\"TripCard_arrow_icon__21k18\"};"],"sourceRoot":""}